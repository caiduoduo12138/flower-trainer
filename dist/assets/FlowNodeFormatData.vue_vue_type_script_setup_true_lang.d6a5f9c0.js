import c from"./FlowNodeFormat.93ed98c9.js";import{f as i}from"./index.72be8179.js";import{l as m,r as l,e as p,h as v,m as I,D as w}from"./vue.4dfaac09.js";const g=m({__name:"FlowNodeFormatData",props:{flowId:{type:String,default:""},disableSelect:{type:Boolean,default:!1},taskId:{type:String,default:""},processInstanceId:{type:String,default:""},formData:{type:Object,dafault:()=>{}},selectUserNodeId:{type:Array,dafault:()=>[]}},setup(d,{expose:u}){let a=d;const n=l([]),f=e=>{var t={flowId:a.flowId,processInstanceId:a.processInstanceId,paramMap:e,taskId:a.taskId};i(t).then(s=>{n.value=s.data})};p(()=>a.formData,e=>{setTimeout(function(){new Date().getTime()-r.value>500&&(r.value=new Date().getTime(),f(e))},600)});const r=l();v(()=>{r.value=new Date().getTime(),f({})});const o=l({});return u({validate:()=>{for(var e of a.selectUserNodeId){var t=o.value[e];if(!(t&&t.length>0))return!1}return!0},formatSelectNodeUser:()=>{var e={};for(var t of a.selectUserNodeId){var s=o.value[t];e[t+"_assignee_select"]=s}return e}}),(e,t)=>(I(),w(c,{row:n.value,"node-user":o.value,disableSelect:d.disableSelect,ref:"flowNodeFormatRef"},null,8,["row","node-user","disableSelect"]))}});export{g as _};
