import{u as E}from"./dict.10eb31b5.js";import{u as h}from"./index.0f5ebb0a.js";import{p as J,a as I,b as K}from"./appArticleCategory.860628da.js";import{l as _,r as m,R as L,aa as s,ah as N,m as n,D as c,E as r,t as O,L as d,I as b,u as a,F as $,q as z,K as B,$ as G,J as H,j as M,n as P}from"./vue.4dfaac09.js";const Q={class:"dialog-footer"},T=_({name:"AppArticleCategoryDialog"}),W=_({...T,emits:["refresh"],setup(X,{expose:y,emit:v}){const V=v,p=m(),u=m(!1),i=m(!1),{yes_no_type:w}=E("yes_no_type"),e=L({id:"",name:"",sort:0,isShow:1}),S=m({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],isShow:[{required:!0,message:"\u662F\u5426\u663E\u793A",trigger:"blur"}]}),k=async()=>{if(!await p.value.validate().catch(()=>{}))return!1;try{i.value=!0,e.id?await J(e):await I(e),h().success(e.id?"\u4FEE\u6539\u6210\u529F":"\u6DFB\u52A0\u6210\u529F"),u.value=!1,V("refresh")}catch(t){h().error(t.msg)}finally{i.value=!1}},x=t=>{i.value=!0,K(t).then(l=>{Object.assign(e,l.data)}).finally(()=>{i.value=!1})};return y({openDialog:t=>{u.value=!0,e.id="",P(()=>{var l;(l=p.value)==null||l.resetFields()}),t&&(e.id=t,x(t))}}),(t,l)=>{const D=s("el-input"),f=s("el-form-item"),U=s("el-input-number"),j=s("el-radio"),q=s("el-radio-group"),C=s("el-form"),g=s("el-button"),F=s("el-dialog"),R=N("loading");return n(),c(F,{title:a(e).id?"\u7F16\u8F91":"\u65B0\u589E",modelValue:a(u),"onUpdate:modelValue":l[4]||(l[4]=o=>M(u)?u.value=o:null),width:"600","close-on-click-modal":!1,draggable:""},{footer:r(()=>[O("span",Q,[d(g,{onClick:l[3]||(l[3]=o=>u.value=!1)},{default:r(()=>[b("\u53D6\u6D88")]),_:1}),d(g,{type:"primary",onClick:k,disabled:a(i)},{default:r(()=>[b("\u786E\u8BA4")]),_:1},8,["disabled"])])]),default:r(()=>[$((n(),c(C,{ref_key:"dataFormRef",ref:p,model:a(e),rules:a(S),formDialogRef:"","label-width":"90px"},{default:r(()=>[d(f,{label:"\u540D\u79F0",prop:"name"},{default:r(()=>[d(D,{modelValue:a(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),d(f,{label:"\u6392\u5E8F",prop:"sort"},{default:r(()=>[d(U,{min:1,max:1e3,modelValue:a(e).sort,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).sort=o),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F"},null,8,["modelValue"])]),_:1}),d(f,{label:"\u662F\u5426\u663E\u793A",prop:"isShow"},{default:r(()=>[d(q,{modelValue:a(e).isShow,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).isShow=o)},{default:r(()=>[(n(!0),z(B,null,G(a(w),(o,A)=>(n(),c(j,{label:Number(o.value),border:"",key:A},{default:r(()=>[b(H(o.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[R,a(i)]])]),_:1},8,["title","modelValue"])}}});export{W as default};
