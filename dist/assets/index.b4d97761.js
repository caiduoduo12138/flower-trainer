import I from"./menu.d132f01e.js";import E from"./preview.54c688f2.js";import{_ as S}from"./attr-setting.vue_vue_type_script_setup_true_lang.e2089800.js";import{w as T}from"./index.f75c6401.js";import{s as f,o as N,u as O,_ as R}from"./index.0f5ebb0a.js";import{l as v,R as U,r as y,a as D,e as j,aa as x,m as P,q as C,L as p,E as u,t as w,u as s,j as V,I as J}from"./vue.4dfaac09.js";import"./attr.vue_vue_type_script_setup_true_lang.2716cb54.js";import"./vuedraggable.umd.8882f878.js";import"./content.vue_vue_type_script_setup_true_lang.4dfcfa20.js";import"./decoration-img.89322d90.js";import"./attr.vue_vue_type_script_setup_true_lang.ac0bafa0.js";import"./content.3b143925.js";import"./attr.vue_vue_type_script_setup_true_lang.21c9a58b.js";import"./add-nav.vue_vue_type_script_setup_true_lang.ab1f1339.js";import"./content.c984798f.js";import"./attr.vue_vue_type_script_setup_true_lang.2faffd94.js";import"./content.vue_vue_type_script_setup_true_lang.bec25315.js";import"./attr.vue_vue_type_script_setup_true_lang.c5186763.js";import"./content.09b28ffa.js";import"./appArticle.2856d1f9.js";import"./attr.vue_vue_type_script_setup_true_lang.24ca497c.js";import"./content.ab540bd3.js";import"./attr.vue_vue_type_script_setup_true_lang.d9947a7e.js";import"./content.vue_vue_type_script_setup_true_lang.1311c17b.js";import"./attr.vue_vue_type_script_setup_true_lang.6815f874.js";import"./content.0d9d63eb.js";const k={class:"layout-padding decoration-pages min-w-[1100px]"},q={class:"flex items-start h-full"},H={class:"flex justify-center mt-4"},L=v({name:"decorationPages"}),M=R(v({...L,setup(z){let d;var m;(m=d||(d={})).HOME="1",m.USER="2",m.SERVICE="3";const i=a=>a.map(t=>{var l;return{id:N.getNonDuplicateID(),...((l=T[t])==null?void 0:l.options())||{}}}),o=U({1:{pageType:1,name:"\u9996\u9875\u88C5\u4FEE",pageData:i(["search","banner","nav","news"])},2:{pageType:2,name:"\u4E2A\u4EBA\u4E2D\u5FC3",pageData:i(["user-info","my-service","user-banner"])},3:{pageType:3,name:"\u5BA2\u670D\u8BBE\u7F6E",pageData:i(["customer-service"])}}),e=y("1"),r=y(-1),g=D(()=>{var a;return((a=o[e.value])==null?void 0:a.pageData)??[]}),_=D(()=>{var a;return((a=o[e.value])==null?void 0:a.pageData[r.value])??""}),c=async()=>{const{data:a}=await(t=e.value,f({url:"/app/appPage/"+t,method:"get"}));var t;o[String(a.pageType)].pageData=JSON.parse(a.pageData)},b=async()=>{var a;await(a={...o[e.value],pageData:JSON.stringify(o[e.value].pageData)},f({url:"/app/appPage",method:"put",data:a})),c(),O().success("\u4FDD\u5B58\u6210\u529F")};return j(e,()=>{r.value=g.value.findIndex(a=>!a.disabled),c()},{immediate:!0}),(a,t)=>{const l=x("el-button"),h=x("el-card");return P(),C("div",k,[p(h,{shadow:"never",class:"!border-none flex-1 flex","body-style":{flex:1}},{default:u(()=>[w("div",q,[p(I,{modelValue:s(e),"onUpdate:modelValue":t[0]||(t[0]=n=>V(e)?e.value=n:null),menus:s(o)},null,8,["modelValue","menus"]),p(E,{modelValue:s(r),"onUpdate:modelValue":t[1]||(t[1]=n=>V(r)?r.value=n:null),pageData:s(g)},{footer:u(()=>[w("div",H,[p(l,{type:"primary",onClick:b},{default:u(()=>[J("\u4FDD\u5B58")]),_:1})])]),_:1},8,["modelValue","pageData"]),p(S,{class:"flex-1",widget:s(_)},null,8,["widget"])])]),_:1})])}}}),[["__scopeId","data-v-366af2f4"]]);export{M as default};
