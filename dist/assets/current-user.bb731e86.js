import{e as f,_ as b}from"./index.0f5ebb0a.js";import{g as x}from"./user.ab59c899.js";import{l as y,g,r as m,h as _,aa as h,m as N,D as w,E as j,t as s,u as o,J as u,at as I,au as k}from"./vue.4dfaac09.js";const E={class:"flex items-center justify-center"},L={class:"relative"},U=["src"],A=(e=>(I("data-v-b142cb6b"),e=e(),k(),e))(()=>s("div",{class:"absolute inset-0 rounded-full shadow-inner"},null,-1)),D={class:"ml-8"},F={class:"text-lg font-bold dark:text-gray-100"},J={class:"text-gray-600 dark:text-gray-400"},R=b(y({title:"\u5F53\u524D\u7528\u6237",icon:"User",description:"\u83B7\u53D6\u5F53\u524D\u7528\u6237\u4FE1\u606F\u5C55\u793A",__name:"current-user",setup(e){const l=g(),d=l==null?void 0:l.proxy;if(!d)throw new Error("Failed to get component instance");const a=m({postName:"",name:"",username:"",userId:"",avatar:"",deptName:""}),i=m(!1);_(()=>{const t=f().userInfos;p(t.user.userId)});const p=async t=>{var n,r;try{i.value=!0;const c=await x(t);a.value=c.data,a.value.postName=((r=(n=c.data)==null?void 0:n.postList)==null?void 0:r.map(v=>v.postName).join(","))||"",a.value.avatar=d.baseURL+c.data.avatar}finally{i.value=!1}};return(t,n)=>{const r=h("el-card");return N(),w(r,{class:"flex items-center justify-center h-[191px]"},{default:j(()=>[s("div",E,[s("div",L,[s("img",{class:"object-cover w-16 h-16 rounded-full",src:o(a).avatar,alt:"Avatar"},null,8,U),A]),s("div",D,[s("h2",F,u(o(a).name),1),s("p",J,u(o(a).deptName)+" | "+u(o(a).postName),1)])])]),_:1})}}}),[["__scopeId","data-v-b142cb6b"]]);export{R as default};
