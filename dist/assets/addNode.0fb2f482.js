import{_ as f,o as i}from"./index.0f5ebb0a.js";import{r as v,aa as h,m as y,q as I,t as e,L,E as N,J as c,u as D,j as g,at as P,au as b}from"./vue.4dfaac09.js";const s=r=>(P("data-v-096356f1"),r=r(),b(),r),w={class:"add-node-btn-box"},U={class:"add-node-btn"},_={class:"add-node-popover-body"},k=s(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"\uE8EF")],-1)),x=s(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"\uE93B")],-1)),C=s(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"\uE9BE")],-1)),O=s(()=>e("div",{class:"item-wrapper"},[e("span",{class:"iconfont"},"\uE9BE")],-1)),$=s(()=>e("button",{class:"btn",type:"button"},[e("span",{class:"iconfont"},"\uE95B")],-1)),j=f({__name:"addNode",props:{childNodeP:{type:Object,default:()=>({})},currentNode:{type:Object,default:()=>({})}},emits:["update:childNodeP"],setup(r,{emit:m}){let a=r,u=m,l=v(!1);const p=o=>{var d;if(l.value=!1,o!==4&&o!==5)o===1?d={id:i.getNonDuplicateID(),nodeName:"\u5BA1\u6279\u4EBA",error:!0,type:1,parentId:a.currentNode.id,assignedType:1,multiple:!1,multipleMode:1,deptLeaderLevel:1,formUserId:"",formUserName:"",formPerms:{},nobody:{handler:"TO_PASS",assignedUser:[]},refuse:{handler:"TO_END",nodeId:""},childNode:a.childNodeP,nodeUserList:[]}:o===2&&(d={id:i.getNonDuplicateID(),parentId:a.currentNode.id,nodeName:"\u6284\u9001\u4EBA",type:2,error:!0,childNode:a.childNodeP,nodeUserList:[],formPerms:{}}),u("update:childNodeP",d);else if(o===4){let t=i.getNonDuplicateID();u("update:childNodeP",{nodeName:"\u6761\u4EF6\u5206\u652F",type:4,id:t,parentId:a.currentNode.id,childNode:a.childNodeP,conditionNodes:[{id:i.getNonDuplicateID(),nodeName:"\u6761\u4EF61",groupMode:!0,error:!0,type:3,parentId:t,priorityLevel:1,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null},{nodeName:"\u6761\u4EF62",type:3,id:i.getNonDuplicateID(),groupMode:!0,error:!1,parentId:t,priorityLevel:2,conditionList:[{mode:!0,conditionList:[{key:"",expression:""}]}],nodeUserList:[],childNode:null}]})}else if(o===5){let t=i.getNonDuplicateID();u("update:childNodeP",{nodeName:"\u5E76\u884C\u5206\u652F",type:5,id:t,parentId:a.currentNode.id,childNode:a.childNodeP,conditionNodes:[{id:i.getNonDuplicateID(),nodeName:"\u5206\u652F1",placeHolder:"\u6EE1\u8DB3\u6761\u4EF6",parentId:t,error:!1,type:3,priorityLevel:1,conditionList:[],nodeUserList:[],childNode:null},{nodeName:"\u5206\u652F2",type:3,id:i.getNonDuplicateID(),parentId:t,error:!1,placeHolder:"\u6EE1\u8DB3\u6761\u4EF6",priorityLevel:2,conditionList:[],nodeUserList:[],childNode:null}]})}};return(o,d)=>{const t=h("el-popover");return y(),I("div",w,[e("div",U,[L(t,{placement:"right-start",modelValue:D(l),"onUpdate:modelValue":d[4]||(d[4]=n=>g(l)?l.value=n:l=n),width:"250px"},{reference:N(()=>[$]),default:N(()=>[e("div",_,[e("a",{class:"add-node-popover-item approver",onClick:d[0]||(d[0]=n=>p(1))},[k,e("p",null,c(o.$t("flow.approver")),1)]),e("a",{class:"add-node-popover-item notifier",onClick:d[1]||(d[1]=n=>p(2))},[x,e("p",null,c(o.$t("flow.carbonCopyRecipient")),1)]),e("a",{class:"add-node-popover-item condition",onClick:d[2]||(d[2]=n=>p(4))},[C,e("p",null,c(o.$t("flow.conditionalBranching")),1)]),e("a",{class:"add-node-popover-item ParallelGateway",onClick:d[3]||(d[3]=n=>p(5))},[O,e("p",null,c(o.$t("flow.parallelBranch")),1)])])]),_:1},8,["modelValue"])])])}}},[["__scopeId","data-v-096356f1"]]);export{j as default};
