import{H as q,w as D,A as K,S as H,b as O,__tla as b}from"./index.0f5ebb0a.js";import{l as V,aq as j,as as x,ap as d,R as F,a as A,Z as G,n as L,h as M,N as S,e as U,aa as Z,m as f,q as z,L as r,E as o,T as h,u as e,D as w,aw as B,F as p,G as g,M as y,H as k,av as J}from"./vue.4dfaac09.js";let N,Q=Promise.all([(()=>{try{return b}catch{}})()]).then(async()=>{let R,v;R={class:"layout-parent"},v=V({name:"layoutParentView"}),N=V({...v,setup(W){const P=J(()=>O(()=>import("./iframes.a3f08e84.js"),["assets/iframes.a3f08e84.js","assets/vue.4dfaac09.js"])),t=j(),T=x(),I=q(),E=D(),{keepAliveNames:n,cachedViews:C}=d(I),{themeConfig:_}=d(E),a=F({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),l=A(()=>_.value.animation),u=A(()=>t.meta.isIframe);return G(()=>{a.keepAliveNameList=n.value,K.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=n.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",L(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=n.value})})}),M(()=>{(async()=>T.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))}))(),L(()=>{setTimeout(()=>{if(_.value.isCacheTagsView){let s=H.get("tagsViewList")||[];C.value=s.filter(i=>{var m;return(m=i.meta)==null?void 0:m.isKeepAlive}).map(i=>i.name)}},0)})}),S(()=>{K.off("onTagsViewRefreshRouterView",()=>{})}),U(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const m=Z("router-view");return f(),z("div",R,[r(m,null,{default:o(({Component:c})=>[r(h,{name:e(l),mode:"out-in"},{default:o(()=>[(f(),w(B,null,[e(t).meta.isKeepAlive?p((f(),w(g(c),{key:e(a).refreshRouterViewKey,class:"w100"})),[[y,!e(u)]]):k("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[e(t).meta.isKeepAlive?k("",!0):p((f(),w(g(c),{key:e(a).refreshRouterViewKey,class:"w100"})),[[y,!e(u)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[p(r(e(P),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(l),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[y,e(u)]])]),_:1},8,["name"])])}}})});export{Q as __tla,N as default};
