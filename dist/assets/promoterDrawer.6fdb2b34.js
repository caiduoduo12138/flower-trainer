import{aw as P}from"./index.0f5ebb0a.js";import{u as U}from"./flow.3bb50ae4.js";import{u as E}from"./index.26cedbc4.js";import V from"./formPerm.46023bcb.js";import{r as j,a as m,e as x,aa as n,m as C,D as h,E as d,t as z,L as f,u,j as O}from"./vue.4dfaac09.js";const S={class:"demo-drawer__content"},$={__name:"promoterDrawer",setup(k){let p=E(),a=j({}),_=U(),v=m(()=>p.starterConfigData);x(v,s=>{a.value=s.value});const g=m(()=>_.step2),b=()=>{let s=g.value;var e={};let t=a.value.formPerms;for(var r of s)if(e[r.field]="E",t[r.field]&&(e[r.field]=t[r.field]),r.type==="Layout"){let o=r.props.value;for(var l of o)e[l.field]="E",t[l.field]&&(e[l.field]=t[l.field])}a.value.formPerms=e};let{setPromoter:w,setStarterConfig:L}=p,y=m(()=>p.promoterDrawer),i=m({get:()=>y.value,set(){c()}});const D=()=>{L({value:a.value,flag:!0,id:v.value.id}),c()},c=()=>{w(!1)};return(s,e)=>{const t=n("el-tab-pane"),r=n("el-tabs"),l=n("el-drawer");return C(),h(l,{"append-to-body":!0,title:s.$t("flow.initiator"),modelValue:u(i),"onUpdate:modelValue":e[1]||(e[1]=o=>O(i)?i.value=o:i=o),class:"set_promoter","show-close":!1,onOpen:b,size:550,"before-close":D},{default:d(()=>[z("div",S,[f(r,{type:"border-card"},{default:d(()=>[f(t,{label:"\u8BBE\u7F6E\u53D1\u8D77\u4EBA"},{default:d(()=>[f(P,{orgList:u(a).nodeUserList,"onUpdate:orgList":e[0]||(e[0]=o=>u(a).nodeUserList=o),type:"org",multiple:!0},null,8,["orgList"])]),_:1}),f(t,{label:"\u8868\u5355\u6743\u9650"},{default:d(()=>[f(V,{"form-perm":u(a).formPerms},null,8,["form-perm"])]),_:1})]),_:1})])]),_:1},8,["title","modelValue"])}}};export{$ as default};
