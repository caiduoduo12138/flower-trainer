import{j as T,w as V,b as W,o as Y,A as Z,_ as B,__tla as F}from"./index.0f5ebb0a.js";import{l as C,r as G,ap as R,aq as N,R as Q,a as U,Z as X,h as ee,az as ae,aa as u,m,q as v,L as c,E as o,u as _,K as x,$ as te,D,t as y,J as k,a1 as le,P as E,I as ne,av as se,n as ie}from"./vue.4dfaac09.js";let H,re=Promise.all([(()=>{try{return F}catch{}})()]).then(async()=>{let L,A,b,$;L={class:"el-menu-horizontal-warp"},A={class:"font-semibold"},b={class:"font-semibold"},$=C({name:"navMenuHorizontal"}),H=B(C({...$,props:{menuList:{type:Array,default:()=>[]}},setup(I){const S=se(()=>W(()=>import("./subItem.3d97f8ac.js"),["assets/subItem.3d97f8ac.js","assets/vue.4dfaac09.js","assets/index.0f5ebb0a.js","assets/index.3d43c53c.css"])),P=I,d=G(),j=T(),q=V(),{routesList:f}=R(j),{themeConfig:w}=R(q),M=N(),r=Q({defaultActive:""}),O=U(()=>P.menuList),J=t=>{const e=t.wheelDelta||40*-t.deltaY;d.value.$refs.wrapRef.scrollLeft=d.value.$refs.wrapRef.scrollLeft+e/4},g=t=>t.filter(e=>{var a;return!((a=e.meta)!=null&&a.isHide)}).map(e=>((e=Object.assign({},e)).children&&(e.children=g(e.children)),e)),z=t=>{const{path:e,meta:a}=t,n=h(f.value,e);if(w.value.layout==="classic")r.defaultActive=n?n.path:`/${e==null?void 0:e.split("/")[1]}`;else{const i=a!=null&&a.isDynamic?a.isDynamicPath.split("/"):e.split("/");i.length>=4&&(a!=null&&a.isHide)?r.defaultActive=i.splice(0,3).join("/"):r.defaultActive=e}},h=(t,e)=>{let a;return t.forEach(n=>{n.path!==e?n.children&&h(n.children,e)&&(a=n):a=n}),a};return X(()=>{z(M)}),ee(()=>{ie(()=>{let t=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!t)return!1;d.value.$refs.wrapRef.scrollLeft=t.offsetLeft})}),ae(t=>{z(t);let{layout:e,isClassicSplitMenu:a}=w.value;e==="classic"&&a&&Z.emit("setSendClassicChildren",(n=>{let i={children:[]};if(!r.defaultActive){const s=h(f.value,n);r.defaultActive=s.path}return g(f.value).map((s,p)=>{s.path===r.defaultActive&&(s.k=p,i.item={...s},i.children=[{...s}],s.children&&(i.children=s.children))}),i})(t.path))}),(t,e)=>{const a=u("SvgIcon"),n=u("el-sub-menu"),i=u("el-menu-item"),s=u("el-menu"),p=u("el-scrollbar");return m(),v("div",L,[c(p,{onWheel:E(J,["prevent"]),ref_key:"elMenuHorizontalScrollRef",ref:d},{default:o(()=>[c(s,{router:"","default-active":_(r).defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:o(()=>[(m(!0),v(x,null,te(_(O),l=>(m(),v(x,null,[l.children&&l.children.length>0?(m(),D(n,{index:l.path,key:l.path},{title:o(()=>[c(a,{name:l.meta.icon},null,8,["name"]),y("span",A,k(t.$t(l.name)),1)]),default:o(()=>[c(_(S),{chil:l.children},null,8,["chil"])]),_:2},1032,["index"])):(m(),D(i,{index:l.path,key:l.path},le({_:2},[!l.meta.isLink||l.meta.isLink&&l.meta.isIframe?{name:"title",fn:o(()=>[c(a,{name:l.meta.icon},null,8,["name"]),y("p",b,k(t.$t(l.name)),1)]),key:"0"}:{name:"title",fn:o(()=>[y("a",{class:"w100",onClick:E(ce=>(K=>{Y.handleOpenLink(K)})(l),["prevent"])},[c(a,{name:l.meta.icon},null,8,["name"]),ne(" "+k(t.$t(l.name)),1)],8,["onClick"])]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},512)])}}}),[["__scopeId","data-v-b58dcac2"]])});export{re as __tla,H as default};
