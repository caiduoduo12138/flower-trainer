import{d as j,aa as R,y as J,ab as K,u as E,b as N,__tla as O}from"./index.0f5ebb0a.js";import{u as V}from"./table.6d12d51c.js";import{l as T,r,R as z,aa as w,ah as S,m as d,q as G,F as y,u as t,D as u,E as n,L as i,I as b,J as g,K as H,av as M}from"./vue.4dfaac09.js";let B,Q=Promise.all([(()=>{try{return O}catch{}})()]).then(async()=>{let k;k=T({name:"systemDept"}),B=T({...k,setup(U,{expose:P}){const q=M(()=>N(()=>import("./form.f5653dd7.js"),["assets/form.f5653dd7.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css"])),{t:v}=j(),x=r(),c=r();r(),r(!0);const h=r(!1),p=z({pageList:e=>R(e),queryForm:{deptName:""},isPage:!1,descs:["create_time"]}),{getDataList:_,tableStyle:C}=V(p),D=(e,s=!0)=>{var a;for(const l in e)(a=x.value)==null||a.toggleRowExpansion(e[l],s),e[l].children&&D(e[l].children,s)};return P({handleAdd:()=>{c.value.openDialog("add")},state:p,getDataList:_,handleExpand:async()=>{h.value=!h.value;const e=await R();D(e.data,h.value)}}),(e,s)=>{var $;const a=w("el-table-column"),l=w("el-button"),A=w("el-table"),f=S("auth"),F=S("loading");return d(),G(H,null,[y((d(),u(A,{ref_key:"tableRef",ref:x,data:t(p).dataList,style:{width:"100%"},"row-key":"id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},border:"","cell-style":t(C).cellStyle,"header-cell-style":($=t(C))==null?void 0:$.headerCellStyle},{default:n(()=>[i(a,{label:e.$t("sysdept.name"),prop:"name",width:"400","show-overflow-tooltip":""},null,8,["label"]),i(a,{label:e.$t("sysdept.weight"),prop:"weight","show-overflow-tooltip":"",width:"80"},null,8,["label"]),i(a,{prop:"createTime",label:e.$t("sysdept.createTime"),"show-overflow-tooltip":""},null,8,["label"]),i(a,{label:e.$t("common.action"),"show-overflow-tooltip":"",width:"250"},{default:n(m=>[y((d(),u(l,{text:"",type:"primary",icon:"folder-add",onClick:L=>{var o;return t(c).openDialog("add",(o=m.row)==null?void 0:o.id)}},{default:n(()=>[b(g(e.$t("common.addBtn")),1)]),_:2},1032,["onClick"])),[[f,"sys_dept_add"]]),y((d(),u(l,{text:"",type:"primary",icon:"edit-pen",onClick:L=>{var o;return t(c).openDialog("edit",(o=m.row)==null?void 0:o.id)}},{default:n(()=>[b(g(e.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[f,"sys_dept_edit"]]),y((d(),u(l,{text:"",type:"primary",icon:"delete",onClick:L=>(async o=>{try{await J().confirm(v("common.delConfirmText"))}catch{return}try{await K(o.id),_(),E().success(v("common.delSuccessText"))}catch(I){E().error(I.msg)}})(m.row)},{default:n(()=>[b(g(e.$t("common.delBtn")),1)]),_:2},1032,["onClick"])),[[f,"sys_dept_del"]])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[F,t(p).loading]]),i(t(q),{ref_key:"deptDialogRef",ref:c,onRefresh:s[0]||(s[0]=m=>t(_)())},null,512)],64)}}})});export{Q as __tla,B as default};
