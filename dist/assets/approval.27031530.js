import{l as w,g as x,r as y,a as N,ah as _,m as i,q as s,t as d,z as U,u as r,J as l,K as P,F as S,ac as $,H as D,y as F,L,at as T,au as j}from"./vue.4dfaac09.js";import{p as q,b as z}from"./const.5d8c27a7.js";import A from"./addNode.0fb2f482.js";import{$ as f}from"./index.28ce57ef.js";import{d as B,_ as H}from"./index.0f5ebb0a.js";import"./flow.3bb50ae4.js";const g=o=>(T("data-v-bd678ee7"),o=o(),j(),o),I={class:"node-wrap"},J={key:0},K=g(()=>d("span",{class:"iconfont"},l("\uE8EF"),-1)),O=["placeholder"],V={class:"text"},E=g(()=>d("i",{class:"anticon anticon-right arrow"},null,-1)),G={key:0,class:"error_tip"},M=[g(()=>d("i",{class:"anticon anticon-exclamation-circle"},null,-1))],Q=H(w({__name:"approval",props:{nodeConfig:{type:Object,default:()=>{}}},setup(o){x();let c=y(!1),e=o,p=N(()=>q[e.nodeConfig.type]);const{t:h}=B;var C=N(()=>e.nodeConfig.type==0?f.arrToStr(e.nodeConfig.nodeUserList)||h("flow.allUser"):e.nodeConfig.type==1?f.setApproverStr(e.nodeConfig):e.nodeConfig.type==2?f.copyerStr(e.nodeConfig):"");let u=y([]);const k=()=>{emits("update:nodeConfig",e.nodeConfig.childNode)};return(m,n)=>{var v;const b=_("focus");return i(),s("div",I,[d("div",{class:F(["node-wrap-box",(o.nodeConfig.type==0?"start-node ":"")+(o.nodeConfig.error?"active error":"")])},[d("div",{class:"title",style:U(`background: rgb(${r(z)[o.nodeConfig.type]});`)},[o.nodeConfig.type==0?(i(),s("span",J,l(o.nodeConfig.nodeName),1)):(i(),s(P,{key:1},[K,r(c)?S((i(),s("input",{key:0,type:"text",class:"ant-input editable-title-input",onBlur:n[0]||(n[0]=a=>{var t;t||t===0?(u.value[t]=!1,e.nodeConfig.conditionNodes[t].nodeName=e.nodeConfig.conditionNodes[t].nodeName||"\u6761\u4EF6"):(c.value=!1,e.nodeConfig.nodeName=e.nodeConfig.nodeName||p)}),onFocus:n[1]||(n[1]=a=>a.currentTarget.select()),"onUpdate:modelValue":n[2]||(n[2]=a=>o.nodeConfig.nodeName=a),placeholder:r(p)},null,40,O)),[[b],[$,o.nodeConfig.nodeName]]):(i(),s("span",{key:1,class:"editable-title",onClick:n[3]||(n[3]=a=>{var t;t||t===0?u.value[t]=!0:c.value=!0})},l(o.nodeConfig.nodeName),1)),d("i",{class:"anticon anticon-close close",onClick:k})],64))],4),d("div",{class:"content",onClick:n[4]||(n[4]=(...a)=>m.openConfigDrawer&&m.openConfigDrawer(...a))},[d("div",V,l(((v=r(C))==null?void 0:v.length)>0?r(C):"\u8BF7\u9009\u62E9"+r(p)),1),E]),o.nodeConfig.error?(i(),s("div",G,M)):D("",!0)],2),L(A,{"current-node":o.nodeConfig,childNodeP:o.nodeConfig.childNode,"onUpdate:childNodeP":n[5]||(n[5]=a=>o.nodeConfig.childNode=a)},null,8,["current-node","childNodeP"])])}}}),[["__scopeId","data-v-bd678ee7"]]);export{Q as default};
