import{d as Z}from"./vuedraggable.umd.8882f878.js";import ee from"./audit-log.ffb487e0.js";import le from"./calendar.3b4383bd.js";import se from"./current-user.bb731e86.js";import{_ as ae}from"./demo-chart1.vue_vue_type_script_setup_true_name_demo-chart1_lang.d09d45fe.js";import{_ as te}from"./demo-chart2.vue_vue_type_script_setup_true_name_log-line-chart_lang.50a51333.js";import{_ as oe}from"./favorite-flow.vue_vue_type_script_setup_true_name_SysFavoriteDashboard_lang.383576c6.js";import{_ as ie}from"./favorite-menu.vue_vue_type_script_setup_true_name_SysFavoriteDashboard_lang.ea3b51c2.js";import ne from"./flow-data.25fe51ea.js";import ue from"./news.054a9ecd.js";import{_ as re}from"./sys-log-line.vue_vue_type_script_setup_true_name_line-chart_lang.e43da105.js";import de from"./sys-log.295259d1.js";import{af as ce,l as D,r as h,a as J,h as me,aa as c,m as i,q as y,t as e,u as o,D as k,E as s,I as z,L as l,H as j,K,$ as U,G as N,J as V,y as O,n as pe,at as ve,au as fe}from"./vue.4dfaac09.js";import{e as ye,z as P,_ as ge}from"./index.0f5ebb0a.js";import"./table.6d12d51c.js";import"./audit.6e8769f4.js";import"./schedule.3fa34690.js";import"./user.ab59c899.js";import"./index.esm.min.6dac9c76.js";import"./echarts.b5e81855.js";import"./index.72be8179.js";import"./message.4096306f.js";import"./log.ab87bffa.js";const W={},q=Object.assign({"./audit-log.vue":ee,"./calendar.vue":le,"./current-user.vue":se,"./demo-chart1.vue":ae,"./demo-chart2.vue":te,"./favorite-flow.vue":oe,"./favorite-menu.vue":ie,"./flow-data.vue":ne,"./news.vue":ue,"./sys-log-line.vue":re,"./sys-log.vue":de});Object.keys(q).forEach(p=>{p&&(W[p.replace(/^\.\/(.*)\.\w+$/,"$1")]=q[p])});const $=ce(W),m=p=>(ve("data-v-ee2872dc"),p=p(),fe(),p),_e={class:"widgets-content"},we={class:"widgets-top"},ke={class:"flex justify-end custom_btn"},he={class:"widgets-wrapper"},Le={key:0,class:"no-widgets"},Ce={class:"widgets-item"},be={key:0,class:"customize-overlay"},ze={key:0,class:"widgets-aside"},je=m(()=>e("div",{class:"widgets-aside-title"},"\u6DFB\u52A0\u90E8\u4EF6",-1)),Oe={class:"selectLayout"},$e=m(()=>e("span",null,null,-1)),xe=m(()=>e("span",null,null,-1)),Ie=m(()=>e("span",null,null,-1)),Je=m(()=>e("span",null,null,-1)),Ne=m(()=>e("span",null,null,-1)),Ve=m(()=>e("span",null,null,-1)),Pe=m(()=>e("span",null,null,-1)),Se=m(()=>e("span",null,null,-1)),Ee=m(()=>e("span",null,null,-1)),De={class:"widgets-list"},Ke={key:0,class:"widgets-list-nodata"},Ue={class:"item-logo"},We={class:"item-info"},qe={class:"item-actions"},Be=D({name:"widgets"}),Ge=D({...Be,setup(p){const x=h({layout:[7,7,10],copmsList:[["current-user","flow-data","audit-log","sys-log-line"],["news","sys-log","demo-chart1"],["calendar","favorite-menu","favorite-flow","demo-chart2"]]}),v=h(!1),g=h(),L=h("widgets"),a=h(JSON.parse(JSON.stringify(x.value))),B=J(()=>{const n=[];for(const[d,{title:w,icon:_,description:u}]of Object.entries($))n.push({key:d,title:w,icon:_,description:u});const t=a.value.copmsList.flat();return n.forEach(d=>{const w=t.find(_=>_===d.key);d.disabled=!!w}),n}),S=J(()=>{const n=["calendar","current-user","news","audit-log","sys-log","flow-data","favorite-menu","favorite-flow","sys-log-line","demo-chart1","demo-chart2"];return B.value.filter(t=>!t.disabled&&n.includes(t.key))}),G=J(()=>a.value.copmsList.flat()),H=()=>{v.value=!0,pe(()=>{const n=g.value.offsetWidth,t=g.value.offsetWidth/n;g.value.style.transform=`scale(${t})`})},I=n=>{a.value.layout=n,n.join(",")==="24"&&(a.value.copmsList[1]&&a.value.copmsList[0].push(...a.value.copmsList[1]),a.value.copmsList[2]&&a.value.copmsList[0].push(...a.value.copmsList[2]),a.value.copmsList[1]=[],a.value.copmsList[2]=[])},A=()=>{v.value=!1,g.value.style.removeProperty("transform"),P.set(L.value,JSON.stringify(a.value))};return me(()=>{const n=ye().userInfos;L.value=`${window.location.host}-${n.user.userId}-widgets}`;let t=P.get(L.value);a.value=t?JSON.parse(t):x.value}),(n,t)=>{const d=c("el-button"),w=c("el-empty"),_=c("el-icon"),u=c("el-col"),C=c("el-row"),F=c("Close"),E=c("el-header"),M=c("el-main"),Q=c("el-footer"),R=c("el-container");return i(),y("div",null,[e("div",{class:O(["widgets-home",o(v)?"customizing":""]),ref:"main"},[e("div",_e,[e("div",we,[e("div",ke,[o(v)?(i(),k(d,{key:0,type:"primary",round:"",onClick:A},{default:s(()=>[z("\u5B8C\u6210")]),_:1})):(i(),k(d,{key:1,type:"primary",round:"",onClick:H},{default:s(()=>[z("\u81EA\u5B9A\u4E49")]),_:1}))])]),e("div",{class:"widgets",ref_key:"widgets",ref:g},[e("div",he,[o(G).length<=0?(i(),y("div",Le,[l(w,{description:"\u6CA1\u6709\u90E8\u4EF6\u5566","image-size":280})])):j("",!0),l(C,{gutter:2},{default:s(()=>[(i(!0),y(K,null,U(o(a).layout,(r,b)=>(i(),k(u,{gutter:2,key:b,md:r,xs:24},{default:s(()=>[l(o(Z),{modelValue:o(a).copmsList[b],"onUpdate:modelValue":f=>o(a).copmsList[b]=f,animation:"200",handle:".customize-overlay",group:"people","item-key":"com",dragClass:"aaaaa","force-fallback":"",fallbackOnBody:"",class:"draggable-box"},{item:s(({element:f})=>[e("div",Ce,[(i(),k(N(o($)[f]))),o(v)?(i(),y("div",be,[l(d,{class:"close",type:"danger",plain:"",icon:"Close",size:"small",onClick:Ae=>(T=>{a.value.copmsList=a.value.copmsList.map(X=>X.filter(Y=>Y!==T))})(f)},null,8,["onClick"]),e("label",null,[l(_,null,{default:s(()=>[(i(),k(N(o($)[f].icon)))]),_:2},1024),z(" "+V(o($)[f].title),1)])])):j("",!0)])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["md"]))),128))]),_:1})])],512)]),o(v)?(i(),y("div",ze,[l(R,null,{default:s(()=>[l(E,null,{default:s(()=>[je,e("div",{class:"widgets-aside-close",onClick:t[0]||(t[0]=r=>(v.value=!1,void g.value.style.removeProperty("transform")))},[l(_,null,{default:s(()=>[l(F)]),_:1})])]),_:1}),l(E,{style:{height:"auto"}},{default:s(()=>[e("div",Oe,[e("div",{class:O(["selectLayout-item item01",{active:o(a).layout.join(",")==="12,6,6"}]),onClick:t[1]||(t[1]=r=>I([12,6,6]))},[l(C,{gutter:2},{default:s(()=>[l(u,{span:7},{default:s(()=>[$e]),_:1}),l(u,{span:7},{default:s(()=>[xe]),_:1}),l(u,{span:10},{default:s(()=>[Ie]),_:1})]),_:1})],2),e("div",{class:O(["selectLayout-item item02",{active:o(a).layout.join(",")==="24,16,8"}]),onClick:t[2]||(t[2]=r=>I([24,16,8]))},[l(C,{gutter:2},{default:s(()=>[l(u,{span:24},{default:s(()=>[Je]),_:1}),l(u,{span:16},{default:s(()=>[Ne]),_:1}),l(u,{span:8},{default:s(()=>[Ve]),_:1})]),_:1})],2),e("div",{class:O(["selectLayout-item item03",{active:o(a).layout.join(",")==="24"}]),onClick:t[3]||(t[3]=r=>I([24]))},[l(C,{gutter:2},{default:s(()=>[l(u,{span:24},{default:s(()=>[Pe]),_:1}),l(u,{span:24},{default:s(()=>[Se]),_:1}),l(u,{span:24},{default:s(()=>[Ee]),_:1})]),_:1})],2)])]),_:1}),l(M,{class:"nopadding"},{default:s(()=>[e("div",De,[o(S).length<=0?(i(),y("div",Ke,[l(w,{description:"\u6CA1\u6709\u90E8\u4EF6\u5566","image-size":60})])):j("",!0),(i(!0),y(K,null,U(o(S),r=>(i(),y("div",{key:r.title,class:"widgets-list-item"},[e("div",Ue,[l(_,null,{default:s(()=>[(i(),k(N(r.icon)))]),_:2},1024)]),e("div",We,[e("h2",null,V(r.title),1),e("p",null,V(r.description),1)]),e("div",qe,[l(d,{type:"primary",icon:"el-icon-plus",size:"small",onClick:b=>(f=>{a.value.copmsList[0].push(f.key)})(r)},null,8,["onClick"])])]))),128))])]),_:1}),l(Q,{style:{height:"51px"}},{default:s(()=>[l(d,{size:"small",onClick:t[4]||(t[4]=r=>(v.value=!1,g.value.style.removeProperty("transform"),a.value=x.value,P.remove(L.value),void window.location.reload()))},{default:s(()=>[z("\u6062\u590D\u9ED8\u8BA4")]),_:1})]),_:1})]),_:1})])):j("",!0)],2)])}}}),He=ge(Ge,[["__scopeId","data-v-ee2872dc"]]);export{He as default};
