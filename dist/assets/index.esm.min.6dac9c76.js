import{t as ce,i as de}from"./echarts.b5e81855.js";import{l as fe,s as M,i as k,a7 as ve,a as E,g as he,e as F,w as ne,h as pe,Q as ge,a9 as re,u as me,n as ze}from"./vue.4dfaac09.js";var P=null,I=null;function N(e,t){t===void 0&&(t={});var n=document.createElement(e);return Object.keys(t).forEach(function(i){n[i]=t[i]}),n}function ie(e,t,n){return(window.getComputedStyle(e,n||null)||{display:"none"})[t]}function Q(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if(ie(t,"display")==="none")return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var Z=0,W=null;function be(e,t){if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=we.bind(e)),!e.__resize_listeners__){if(e.__resize_listeners__=[],window.ResizeObserver){var n=e.offsetWidth,i=e.offsetHeight,o=new ResizeObserver(function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==n||e.offsetHeight!==i))&&R(e)}),r=Q(e),d=r.detached,p=r.rendered;e.__resize_observer_triggered__=d===!1&&p===!1,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){R(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(Z||(W=function(s){var a=document.createElement("style");return a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s)),(document.querySelector("head")||document.body).appendChild(a),a}('.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}')),function(s){var a=ie(s,"position");a&&a!=="static"||(s.style.position="relative"),s.__resize_old_position__=a,s.__resize_last__={};var m=N("div",{className:"resize-triggers"}),x=N("div",{className:"resize-expand-trigger"}),j=N("div"),A=N("div",{className:"resize-contract-trigger"});x.appendChild(j),m.appendChild(x),m.appendChild(A),s.appendChild(m),s.__resize_triggers__={triggers:m,expand:x,expandChild:j,contract:A},G(s),s.addEventListener("scroll",$,!0),s.__resize_last__={width:s.offsetWidth,height:s.offsetHeight}}(e),e.__resize_rendered__=Q(e).rendered,window.MutationObserver){var v=new MutationObserver(e.__resize_mutation_handler__);v.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=v}}e.__resize_listeners__.push(t),Z++}function we(){var e=Q(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(G(this),this.addEventListener("scroll",$,!0)),this.__resize_rendered__=t,R(this))}function $(){var e,t,n=this;G(this),this.__resize_raf__&&(e=this.__resize_raf__,I||(I=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(i){clearTimeout(i)}).bind(window)),I(e)),this.__resize_raf__=(t=function(){var i,o,r,d,p,v,s=(o=(i=n).__resize_last__,r=o.width,d=o.height,p=i.offsetWidth,v=i.offsetHeight,p!==r||v!==d?{width:p,height:v}:null);s&&(n.__resize_last__=s,R(n))},P||(P=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(i){return setTimeout(i,16)}).bind(window)),P(t))}function R(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(function(t){t.call(e,e)})}function G(e){var t=e.__resize_triggers__,n=t.expand,i=t.expandChild,o=t.contract,r=o.scrollWidth,d=o.scrollHeight,p=n.offsetWidth,v=n.offsetHeight,s=n.scrollWidth,a=n.scrollHeight;o.scrollLeft=r,o.scrollTop=d,i.style.width=p+1+"px",i.style.height=v+1+"px",n.scrollLeft=s,n.scrollTop=a}var b=function(){return b=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var ye=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Oe(e){return t=Object.create(null),ye.forEach(function(n){t[n]=function(i){return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[i].apply(e.value,o)}}(n)}),t;var t}var Ee={autoresize:[Boolean,Object]},xe=/^on[^a-z]/,Ce=function(e){return xe.test(e)};function U(e,t){var n=me(e);return n&&typeof n=="object"&&"value"in n?n.value||t:n||t}var Le={loading:Boolean,loadingOptions:Object},C=null,oe="x-vue-echarts",se=[],L=[];(function(e,t){if(e&&typeof document<"u"){var n,i=t.prepend===!0?"prepend":"append",o=t.singleTag===!0,r=typeof t.container=="string"?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var d=se.indexOf(r);d===-1&&(d=se.push(r)-1,L[d]={}),n=L[d]&&L[d][i]?L[d][i]:L[d][i]=p()}else n=p();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function p(){var v=document.createElement("style");if(v.setAttribute("type","text/css"),t.attributes)for(var s=Object.keys(t.attributes),a=0;a<s.length;a++)v.setAttribute(s[a],t.attributes[s[a]]);var m=i==="prepend"?"afterbegin":"beforeend";return r.insertAdjacentElement(m,v),v}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}
`,{});var je=function(){if(C!=null)return C;if(typeof HTMLElement>"u"||typeof customElements>"u")return C=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(oe)}catch{return C=!1}return C=!0}(),Ae=fe({name:"echarts",props:b(b({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},Ee),Le),emits:{},inheritAttrs:!1,setup:function(e,t){var n=t.attrs,i=M(),o=M(),r=M(),d=M(),p=k("ecTheme",null),v=k("ecInitOptions",null),s=k("ecUpdateOptions",null),a=ve(e),m=a.autoresize,x=a.manualUpdate,j=a.loading,A=a.loadingOptions,ae=E(function(){return d.value||e.option||null}),J=E(function(){return e.theme||U(p,{})}),K=E(function(){return e.initOptions||U(v,{})}),V=E(function(){return e.updateOptions||U(s,{})}),_e=E(function(){return function(h){var _={};for(var f in h)Ce(f)||(_[f]=h[f]);return _}(n)}),ue=he().proxy.$listeners;function T(h){if(o.value){var _=r.value=de(o.value,J.value,K.value);e.group&&(_.group=e.group);var f=ue;f||(f={},Object.keys(n).filter(function(c){return c.indexOf("on")===0&&c.length>2}).forEach(function(c){var u=c.charAt(2).toLowerCase()+c.slice(3);u.substring(u.length-4)==="Once"&&(u="~".concat(u.substring(0,u.length-4))),f[u]=n[c]})),Object.keys(f).forEach(function(c){var u=f[c];if(u){var g=c.toLowerCase();g.charAt(0)==="~"&&(g=g.substring(1),u.__once__=!0);var w=_;if(g.indexOf("zr:")===0&&(w=_.getZr(),g=g.substring(3)),u.__once__){delete u.__once__;var D=u;u=function(){for(var O=[],y=0;y<arguments.length;y++)O[y]=arguments[y];D.apply(void 0,O),w.off(g,u)}}w.on(g,u)}}),m.value?ze(function(){_&&!_.isDisposed()&&_.resize(),z()}):z()}function z(){var c=h||ae.value;c&&_.setOption(c,V.value)}}function q(){r.value&&(r.value.dispose(),r.value=void 0)}var S=null;F(x,function(h){typeof S=="function"&&(S(),S=null),h||(S=F(function(){return e.option},function(_,f){_&&(r.value?r.value.setOption(_,b({notMerge:_!==f},V.value)):T())},{deep:!0}))},{immediate:!0}),F([J,K],function(){q(),T()},{deep:!0}),ne(function(){e.group&&r.value&&(r.value.group=e.group)});var le=Oe(r);return function(h,_,f){var z=k("ecLoadingOptions",{}),c=E(function(){return b(b({},U(z,{})),f==null?void 0:f.value)});ne(function(){var u=h.value;u&&(_.value?u.showLoading(c.value):u.hideLoading())})}(r,j,A),function(h,_,f){var z=null;F([f,h,_],function(c,u,g){var w=c[0],D=c[1],O=c[2];if(w&&D&&O){var y=O===!0?{}:O,X=y.throttle,Y=X===void 0?100:X,ee=y.onResize,te=function(){D.resize(),ee==null||ee()};z=Y?ce(te,Y):te,be(w,z)}g(function(){w&&z&&function(l,B){var H=l.__resize_listeners__;if(H){if(B&&H.splice(H.indexOf(B),1),!H.length||!B){if(l.detachEvent&&l.removeEventListener)return l.detachEvent("onresize",l.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",l.__resize_mutation_handler__);l.__resize_observer__?(l.__resize_observer__.unobserve(l),l.__resize_observer__.disconnect(),l.__resize_observer__=null):(l.__resize_mutation_observer__&&(l.__resize_mutation_observer__.disconnect(),l.__resize_mutation_observer__=null),l.removeEventListener("scroll",$),l.removeChild(l.__resize_triggers__.triggers),l.__resize_triggers__=null),l.__resize_listeners__=null}!--Z&&W&&W.parentNode.removeChild(W)}}(w,z)})})}(r,m,o),pe(function(){T()}),ge(function(){je&&i.value?i.value.__dispose=q:q()}),b({chart:r,root:i,inner:o,setOption:function(h,_){e.manualUpdate&&(d.value=h),r.value?r.value.setOption(h,_||{}):T(h)},nonEventAttrs:_e},le)},render:function(){var e=b({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",re(oe,e,[re("div",{ref:"inner"})])}});export{Ae as B};
