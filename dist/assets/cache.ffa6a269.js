import{s as F}from"./index.0f5ebb0a.js";import{i as h}from"./echarts.b5e81855.js";import{l as f,r as i,R as E,a as u,aa as A,m as v,q as p,t as e,K as _,$ as B,J as x,u as g,L as w,E as b,ay as D,af as y}from"./vue.4dfaac09.js";const O={class:"layout-padding"},z={class:"layout-padding-auto layout-padding-view"},M={class:"p-4 min-w-[375px] md:min-w-[700px] xl:min-w-[800px] mt-3 grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-3 3xl:grid-cols-6"},R=D('<div class="ml-[18px] flex h-[90px] w-auto flex-row items-center"><div class="p-3 rounded-full bg-lightPrimary dark:bg-navy-700"><span class="flex items-center text-brand-500 dark:text-white"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-7 w-7" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M4 9h4v11H4zM16 13h4v7h-4zM10 4h4v16h-4z"></path></svg></span></div></div>',1),S={class:"flex flex-col justify-center w-auto ml-4 h-50"},H={class:"text-sm font-medium text-gray-600 dark:text-gray-400 font-dm"},L={class:"text-xl font-bold text-navy-700 dark:text-white"},P={class:"sm:flex"},j=e("div",{class:"mb-10 font-semibold dark:text-gray-200"},"\u547D\u4EE4\u7EDF\u8BA1",-1),q=e("div",{class:"mb-10 font-semibold dark:text-gray-200"},"\u5185\u5B58\u4FE1\u606F",-1),J=f({name:"cache"}),K=f({...J,setup(X){const a=i({}),n=i(),m=i(),l=E({commandChartOption:{tooltip:{trigger:"item"},series:[{label:{show:!0},labelLine:{show:!0},type:"pie",radius:"85%",color:["#0D47A1","#1565C0","#1976D2","#1E88E5","#2196F3","#42A5F5","#64B5F6","#90CAF9","#BBDEFB","#E3F2FD","#CAF0F8","#ADE8F4","#90E0EF","#48CAE4","#00B4D8","#0096C7","#0077B6","#023E8A","#03045E","#8ecae6","#98c1d9","#D9ED92","#B5E48C","#99D98C","#76C893","#52B69A","#34A0A4","#168AAD","#1A759F","#1E6091","#184E77","#457b9d"],data:[{value:"",name:""}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},memoryChartOption:{tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Pressure",type:"gauge",radius:"100%",detail:{formatter:"{value}"},data:[{value:"",name:"\u5185\u5B58\u6D88\u8017"}]}]}});(async()=>{const t=await F({url:"/admin/system/cache",method:"get"});a.value=t.data.info,a.value.dbSize=t.data.dbSize,l.commandChartOption.series[0].data=t.data.commandStats,l.memoryChartOption.series[0].data[0].value=(t.data.info.used_memory/1024/1024).toFixed(2),l.memoryChartOption.series[0].detail.formatter="{value}M";const d=y(h(n.value)),s=y(h(m.value));d.setOption(l.commandChartOption),s.setOption(l.memoryChartOption)})();const C=u(()=>["Redis\u7248\u672C","\u5BA2\u6237\u7AEF\u6570","\u8FD0\u884C\u65F6\u95F4(\u5929)","\u4F7F\u7528\u5185\u5B58","AOF\u662F\u5426\u5F00\u542F","RDB\u662F\u5426\u6210\u529F"]),k=u(()=>{var t,d,s,o,r,c;return[(t=a.value)==null?void 0:t.redis_version,(d=a.value)==null?void 0:d.connected_clients,(s=a.value)==null?void 0:s.uptime_in_days,(o=a.value)==null?void 0:o.used_memory_human,((r=a.value)==null?void 0:r.aof_enabled)==0?"\u5F00\u542F":"\u5173\u95ED",((c=a.value)==null?void 0:c.aof_enabled)=="ok"?"\u6210\u529F":"\u5931\u8D25"]});return(t,d)=>{const s=A("el-card");return v(),p("div",O,[e("div",z,[e("div",M,[(v(),p(_,null,B(6,(o,r)=>e("div",{key:r,class:"relative flex flex-grow !flex-row flex-col items-center rounded-[10px] border-[1px] border-gray-200 bg-white hover:scale-105 hover:shadow-lg bg-clip-border shadow-md shadow-[#F3F3F3] dark:border-[#ffffff33] dark:!bg-[#1d1d1d] dark:text-white dark:shadow-none"},[R,e("div",S,[e("p",H,x(g(C)[r]),1),e("h4",L,x(g(k)[r]),1)])])),64))]),e("div",P,[w(s,{class:"sm:mr-4 flex-1 !border-none mt-4 !bg-transparent dark:!bg-transparent",shadow:"never"},{default:b(()=>[e("div",null,[j,e("div",{class:"flex h-[30vh] items-center",ref_key:"commandChartRef",ref:n},null,512)])]),_:1}),w(s,{class:"flex-1 !border-none mt-4 !bg-transparent dark:!bg-transparent",shadow:"never"},{default:b(()=>[e("div",null,[q,e("div",{class:"flex h-[30vh] items-center",ref_key:"memoryChartRef",ref:m},null,512)])]),_:1})])])])}}});export{K as default};
