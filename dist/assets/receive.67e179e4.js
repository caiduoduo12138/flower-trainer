import{l as p,r as g,R as x,aa as l,ah as H,m as f,D as h,E as o,L as e,u as a,a0 as j,I as w,F as k,J as I,A as K,j as R}from"./vue.4dfaac09.js";import{u as U}from"./table.6d12d51c.js";import{e as $}from"./message.4096306f.js";import"./index.0f5ebb0a.js";const A=p({name:"reviceDialog"}),E=p({...A,setup(J,{expose:C}){g();const u=g(!1),t=x({queryForm:{},pageList:$}),{getDataList:i,currentChangeHandle:y,sizeChangeHandle:c,sortChangeHandle:b}=U(t);return C({openDialog:s=>{u.value=!0,t.queryForm.messageId=s,i()}}),(s,d)=>{const _=l("el-input"),m=l("el-form-item"),F=l("el-button"),v=l("el-form"),q=l("el-row"),n=l("el-table-column"),V=l("el-tag"),z=l("el-table"),D=l("pagination"),L=l("el-drawer"),S=H("loading");return f(),h(L,{modelValue:a(u),"onUpdate:modelValue":d[1]||(d[1]=r=>R(u)?u.value=r:null),size:"40%"},{default:o(()=>[e(q,null,{default:o(()=>[e(v,{model:a(t).queryForm,ref:"queryRef",inline:!0,onKeyup:j(a(i),["enter"])},{default:o(()=>[e(m,{label:"\u59D3\u540D",prop:"name"},{default:o(()=>[e(_,{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",modelValue:a(t).queryForm.name,"onUpdate:modelValue":d[0]||(d[0]=r=>a(t).queryForm.name=r)},null,8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[e(F,{icon:"search",type:"primary",onClick:a(i)},{default:o(()=>[w(" \u67E5\u8BE2 ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","onKeyup"])]),_:1}),k((f(),h(z,{data:a(t).dataList,style:{width:"100%"},onSortChange:a(b)},{default:o(()=>[e(n,{type:"index",label:"\u5E8F\u53F7",width:"60"}),e(n,{prop:"title",label:"\u6807\u9898","show-overflow-tooltip":""}),e(n,{prop:"username",label:"\u7528\u6237\u540D","show-overflow-tooltip":""}),e(n,{prop:"name",label:"\u59D3\u540D","show-overflow-tooltip":""}),e(n,{prop:"readFlag",label:"\u72B6\u6001","show-overflow-tooltip":""},{default:o(r=>[e(V,null,{default:o(()=>[w(I(r.row.readFlag==="1"?s.$t("msg.readed"):s.$t("msg.unread")),1)]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])),[[S,a(t).loading]]),e(D,K({onSizeChange:a(c),onCurrentChange:a(y)},a(t).pagination),null,16,["onSizeChange","onCurrentChange"])]),_:1},8,["modelValue"])}}});export{E as default};
