import{l as U,g as k,R as y,aq as F,r as N,h as j,e as A,a as D,aa as u,m as g,q as b,t as c,L as a,E as s,u as o,P as E,J,K,$ as P,D as R}from"./vue.4dfaac09.js";import{aw as S,_ as T}from"./index.0f5ebb0a.js";import{q as z}from"./index.e40e0854.js";import{u as B}from"./flow.3bb50ae4.js";const C={class:"container-div"},G=T(U({__name:"step1",props:{groupId:{type:Number,default:void 0}},setup(v,{expose:_}){const{proxy:h}=k();_({validate:l=>{h.$refs.ruleForm.validate((e,m)=>{var i=[];if(!e)for(var p in m)i.push(m[p][0].message);l(e,i)})}});const w=y({name:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0",trigger:"blur"},{min:2,max:10,message:"2-10\u4E2A\u5B57\u7B26",trigger:"blur"}],remark:[{required:!1,message:"\u8BF7\u586B\u5199\u63CF\u8FF0",trigger:"blur"},{min:2,max:20,message:"2-20\u4E2A\u5B57\u7B26",trigger:"blur"}],groupId:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7EC4",trigger:"change"}],logo:[{required:!0,message:"\u8BF7\u4E0A\u4F20\u56FE\u6807",trigger:"change"}],adminList:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458",trigger:"change"}]});let x=v;F();const n=N([]);j(()=>{z().then(({data:l})=>{n.value=l})}),A(()=>x.groupId,l=>{l&&(t.value.groupId=parseInt(l))});const I=B(),t=D(()=>I.step1);return(l,e)=>{const m=u("Avatar"),i=u("el-icon"),p=u("upload-img"),d=u("el-form-item"),f=u("el-input"),V=u("el-option"),q=u("el-select"),$=u("el-form"),L=u("el-card");return g(),b("div",null,[c("div",C,[a(L,{class:"box-card",style:{"padding-right":"10%","padding-left":"10%"}},{default:s(()=>[a($,{ref:"ruleForm",model:o(t),rules:o(w),"label-position":"top","status-icon":"","label-width":"120px",onSubmit:e[5]||(e[5]=E(()=>{},["prevent"]))},{default:s(()=>[a(d,{label:l.$t("flow.logo"),prop:"logo"},{default:s(()=>[a(p,{imageUrl:o(t).logo,"onUpdate:imageUrl":e[0]||(e[0]=r=>o(t).logo=r),height:"100px",width:"100px"},{empty:s(()=>[a(i,null,{default:s(()=>[a(m)]),_:1}),c("span",null,J(l.$t("flow.logo")),1)]),_:1},8,["imageUrl"])]),_:1},8,["label"]),a(d,{label:l.$t("flow.name"),prop:"name"},{default:s(()=>[a(f,{modelValue:o(t).name,"onUpdate:modelValue":e[1]||(e[1]=r=>o(t).name=r)},null,8,["modelValue"])]),_:1},8,["label"]),a(d,{label:l.$t("flow.remark"),prop:"remark"},{default:s(()=>[a(f,{modelValue:o(t).remark,"onUpdate:modelValue":e[2]||(e[2]=r=>o(t).remark=r)},null,8,["modelValue"])]),_:1},8,["label"]),a(d,{label:l.$t("flow.group"),prop:"groupId"},{default:s(()=>[a(q,{modelValue:o(t).groupId,"onUpdate:modelValue":e[3]||(e[3]=r=>o(t).groupId=r),placeholder:l.$t("flow.groupTips")},{default:s(()=>[(g(!0),b(K,null,P(o(n),r=>(g(),R(V,{key:r.id,label:r.groupName,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,{label:l.$t("flow.admin"),prop:"adminList"},{default:s(()=>[a(S,{orgList:o(t).adminList,"onUpdate:orgList":e[4]||(e[4]=r=>o(t).adminList=r),type:"user",multiple:!1},null,8,["orgList"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1})])])}}}),[["__scopeId","data-v-2570b308"]]);export{G as default};
