import{d as he,e as _e,w as we,z as E,b as F,Z as pe,A as K,aI as ve,aU as ke,S as Ee,o as ye,x as Ce,_ as Fe,__tla as Se}from"./index.0f5ebb0a.js";import{am as ze,l as Q,as as Ie,ap as Z,r as y,R as xe,a as Oe,h as Re,aa as i,m as G,q as Le,L as l,E as s,u as a,I as w,t as c,y as N,J as S,D as Te,H as Ae,z as Pe,av as z}from"./vue.4dfaac09.js";import{f as Be}from"./message.4096306f.js";let W,$e=Promise.all([(()=>{try{return Se}catch{}})()]).then(async()=>{const x=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=(()=>{if(typeof document>"u")return!1;const n=x[0],r={};for(const t of x)if((t==null?void 0:t[1])in document){for(const[b,h]of t.entries())r[n[b]]=h;return r}return!1})(),O={change:d.fullscreenchange,error:d.fullscreenerror};let o={request:(n=document.documentElement,r)=>new Promise((t,f)=>{const b=()=>{o.off("change",b),t()};o.on("change",b);const h=n[d.requestFullscreen](r);h instanceof Promise&&h.then(b).catch(f)}),exit:()=>new Promise((n,r)=>{if(!o.isFullscreen)return void n();const t=()=>{o.off("change",t),n()};o.on("change",t);const f=document[d.exitFullscreen]();f instanceof Promise&&f.then(t).catch(r)}),toggle:(n,r)=>o.isFullscreen?o.exit():o.request(n,r),onchange(n){o.on("change",n)},onerror(n){o.on("error",n)},on(n,r){const t=O[n];t&&document.addEventListener(t,r,!1)},off(n,r){const t=O[n];t&&document.removeEventListener(t,r,!1)},raw:d};Object.defineProperties(o,{isFullscreen:{get:()=>!!document[d.fullscreenElement]},element:{enumerable:!0,get:()=>document[d.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[d.fullscreenEnabled]}}),d||(o={isEnabled:!1});let p,R,L,T,A,P,B,$,q,D;p=o,R=ze("msg",{state:()=>({msgArray:[]}),actions:{getAllMsg(){return this.msgArray},setMsg(n){this.msgArray.push(n)},removeAll(){this.msgArray=[]}}}),L={class:"layout-navbars-breadcrumb-user-icon"},T=["title"],A=["title"],P={class:"layout-navbars-breadcrumb-user-icon"},B=["title"],$={class:"layout-navbars-breadcrumb-user-link"},q=["src"],D=Q({name:"layoutBreadcrumbUser"}),W=Fe(Q({...D,setup(n){const r=z(()=>F(()=>import("./index.d6d9e376.js"),["assets/index.d6d9e376.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css"])),t=z(()=>F(()=>import("./userNews.710dbf7a.js").then(async e=>(await e.__tla,e)),["assets/userNews.710dbf7a.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/message.4096306f.js","assets/userNews.463e01d8.css"])),f=z(()=>F(()=>import("./search.a4d241a5.js"),["assets/search.a4d241a5.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/search.2e73b8ff.css"])),b=z(()=>F(()=>import("./personal.d56275b3.js").then(async e=>(await e.__tla,e)),["assets/personal.d56275b3.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/user.ab59c899.js","assets/social.df48b0b4.js","assets/personal.2450bb13.css"])),{locale:h,t:v}=he(),M=Ie(),X=_e(),Y=we(),{userInfos:V}=Z(X),{themeConfig:_}=Z(Y),j=y(),ee=y(),U=y(),m=xe({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),le=y(!1),ne=Oe(()=>{let e="";const{layout:g,isClassicSplitMenu:u}=_.value;return e=["defaults","columns"].includes(g)||g==="classic"&&!u?"1":"",e}),te=()=>{if(!p.isEnabled)return pe.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;p.toggle(),p.on("change",()=>{p.isFullscreen?m.isScreenfull=!0:m.isScreenfull=!1})},se=()=>{K.emit("openSetingsDrawer")},re=e=>{e==="logOut"?ve({closeOnClickModal:!1,closeOnPressEscape:!1,title:v("user.logOutTitle"),message:v("user.logOutMessage"),showCancelButton:!0,confirmButtonText:v("user.logOutConfirm"),cancelButtonText:v("user.logOutCancel"),buttonSize:"default",beforeClose:(g,u,k)=>{g==="confirm"?(u.confirmButtonLoading=!0,u.confirmButtonText=v("user.logOutExit"),setTimeout(()=>{k(),setTimeout(()=>{u.confirmButtonLoading=!1},300)},700)):k()}}).then(async()=>{K.emit("onCurrentContextmenuClick",Object.assign({},{contextMenuClickId:3,...M})),await ke(),Ee.clear(),window.location.reload()}).catch(()=>{}):e==="personal"?U.value.open():M.push(e)},ae=()=>{j.value.openSearch()},oe=e=>{E.remove("themeConfig"),_.value.globalI18n=e,E.set("themeConfig",_.value),h.value=e,ye.useTitle(),I("globalI18n","disabledI18n")},ue=()=>{_.value.isLockScreen=!0,_.value.lockScreenTime=0,E.set("themeConfig",_.value)},I=(e,g)=>{m[g]=E.get("themeConfig")[e]},ce=e=>{R().setMsg({label:"websocket\u6D88\u606F",value:e,time:Ce(new Date)})},H=y(!1);return Re(()=>{E.get("themeConfig")&&(I("globalComponentSize","disabledSize"),I("globalI18n","disabledI18n")),Be({category:"1",readFlag:"0"}).then(e=>{H.value=e.data.total!==0})}),(e,g)=>{const u=i("el-dropdown-item"),k=i("el-dropdown-menu"),J=i("el-dropdown"),ie=i("ele-Lock"),C=i("el-icon"),de=i("ele-Search"),me=i("ele-Bell"),fe=i("el-badge"),be=i("el-popover"),ge=i("ele-ArrowDown");return G(),Le("div",{class:"layout-navbars-breadcrumb-user pr15",style:Pe({flex:a(ne)})},[l(J,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:oe},{dropdown:s(()=>[l(k,null,{default:s(()=>[l(u,{command:"zh-cn",disabled:a(m).disabledI18n==="zh-cn"},{default:s(()=>[w("\u7B80\u4F53\u4E2D\u6587")]),_:1},8,["disabled"]),l(u,{command:"en",disabled:a(m).disabledI18n==="en"},{default:s(()=>[w("English")]),_:1},8,["disabled"])]),_:1})]),default:s(()=>[c("div",L,[c("i",{class:N(["iconfont",a(m).disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("user.title1")},null,10,T)])]),_:1}),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ue},[l(C,{title:e.$t("layout.threeLockScreenTime")},{default:s(()=>[l(ie)]),_:1},8,["title"])]),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ae},[l(C,{title:e.$t("user.title2")},{default:s(()=>[l(de)]),_:1},8,["title"])]),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:se},[c("i",{class:"icon-skin iconfont",title:e.$t("user.title3")},null,8,A)]),c("div",P,[l(be,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:s(()=>[l(fe,{"is-dot":a(H)},{default:s(()=>[l(C,{title:e.$t("user.title4")},{default:s(()=>[l(me)]),_:1},8,["title"])]),_:1},8,["is-dot"])]),default:s(()=>[l(a(t),{ref_key:"newsRef",ref:ee},null,512)]),_:1})]),c("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:te},[c("i",{class:N(["iconfont",a(m).isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:a(m).isScreenfull?e.$t("user.title6"):e.$t("user.title5")},null,10,B)]),l(J,{"show-timeout":70,"hide-timeout":50,onCommand:re},{dropdown:s(()=>[l(k,null,{default:s(()=>[l(u,{command:"/home"},{default:s(()=>[w(S(e.$t("user.dropdown1")),1)]),_:1}),l(u,{command:"personal"},{default:s(()=>[w(S(e.$t("user.dropdown2")),1)]),_:1}),l(u,{divided:"",command:"logOut"},{default:s(()=>[w(S(e.$t("user.dropdown5")),1)]),_:1})]),_:1})]),default:s(()=>[c("span",$,[c("img",{src:e.baseURL+a(V).user.avatar,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,q),w(" "+S(a(V).user.username)+" ",1),l(C,{class:"el-icon--right"},{default:s(()=>[l(ge)]),_:1})])]),_:1}),l(a(f),{ref_key:"searchRef",ref:j},null,512),a(le)?(G(),Te(a(r),{key:0,uri:"/admin/ws/info",onRollback:ce})):Ae("",!0),l(a(b),{ref_key:"personalDrawerRef",ref:U},null,512)],4)}}}),[["__scopeId","data-v-b7b5eba5"]])});export{$e as __tla,W as default};
