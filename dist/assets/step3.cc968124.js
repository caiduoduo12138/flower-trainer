import x from"./nodeWrap.a8dcddc1.js";import j from"./promoterDrawer.6fdb2b34.js";import{_ as z}from"./approverDrawer.vue_vue_type_script_setup_true_lang.78a2dee7.js";import O from"./copyerDrawer.52e31f0b.js";import w from"./conditionDrawer.6b80bb41.js";import{_ as k,d as L}from"./index.0f5ebb0a.js";import{u as P}from"./flow.3bb50ae4.js";import{r as c,e as f,aa as U,m as $,q,t as s,L as r,E as D,y as g,u as m,J as h,z as E,j as I,at as J,au as S}from"./vue.4dfaac09.js";import"./addNode.0fb2f482.js";import"./const.5d8c27a7.js";import"./index.28ce57ef.js";import"./index.26cedbc4.js";import"./formPerm.46023bcb.js";import"./eventConfig.vue_vue_type_script_setup_true_lang.8b6c4ce3.js";import"./formPermissions.b77839a8.js";import"./condition.7a8b7b0e.js";const A={class:"app-container"},B={class:"fd-nav-content"},F={class:"dingflow-design"},G={class:"zoom"},H={class:"end-node"},K=(d=>(J("data-v-ee1f0e75"),d=d(),S(),d))(()=>s("div",{class:"end-node-circle"},null,-1)),M={class:"end-node-text"},Q=k({__name:"step3",props:{nodeConfigObj:{type:Object}},setup(d,{expose:C}){let N=P();const{t:b}=L();let l=c([]),t=c(100),a=c({nodeName:b("flow.initiator"),type:0,id:"root",formPerms:{},eventConfig:"",nodeUserList:[],childNode:{}}),y=d;f(()=>y.nodeConfigObj,e=>{a.value=e});const u=({childNode:e})=>{if(e){let{type:i,error:n,nodeName:_,conditionNodes:p}=e;if(i==1||i==2)n&&l.value.push(_+" \u672A\u8BBE\u7F6E\u4EBA\u5458"),u(e);else if(i==3)u(e);else if(i==4){u(e);for(var o=0;o<p.length;o++)p[o].error&&l.value.push("\u8BF7\u8BBE\u7F6E"+p[o].nodeName+"\u7684\u6761\u4EF6"),u(p[o])}}else e=null};f(()=>a.value,e=>{N.setStep3(e)},{deep:!0});const v=e=>{if(e==1){if(t.value==50)return;t.value-=10}else{if(t.value==300)return;t.value+=10}};return C({validate:e=>{l.value=[],a.value.childNode!=null&&a.value.childNode.id!==void 0||(l.value=["\u8BF7\u5B8C\u5584\u6D41\u7A0B\u8282\u70B9"]),u(a.value),l.value.length==0?e(!0):e(!1,l.value)},getProcessData:async()=>a.value}),(e,o)=>{const i=U("el-scrollbar");return $(),q("div",A,[s("div",B,[r(i,{style:{height:"600px"}},{default:D(()=>[s("section",F,[s("div",G,[s("div",{class:g(["zoom-out",m(t)===50&&"disabled"]),onClick:o[0]||(o[0]=n=>v(1))},null,2),s("span",null,h(m(t))+"%",1),s("div",{class:g(["zoom-in",m(t)===300&&"disabled"]),onClick:o[1]||(o[1]=n=>v(2))},null,2)]),s("div",{class:"box-scale",style:E(`transform: scale(${m(t)/100});`)},[r(x,{nodeConfig:m(a),"onUpdate:nodeConfig":o[2]||(o[2]=n=>I(a)?a.value=n:a=n)},null,8,["nodeConfig"]),s("div",H,[K,s("div",M,h(e.$t("flow.end")),1)])],4)])]),_:1})]),r(j),r(z),r(O),r(w)])}}},[["__scopeId","data-v-ee1f0e75"]]);export{Q as default};
