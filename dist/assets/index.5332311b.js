import{l as M,r as c,e as N,aa as s,m as u,q as b,L as v,E as p,t as n,P as g,x as U,D as f,u as y,j as h,K as j,$ as E,I as w,J as z}from"./vue.4dfaac09.js";import{u as T}from"./index.2c4f7de9.js";const q={class:"popover-input__input mr-[10px] flex-1"},A={class:"flex-none popover-input__btns"},D=M({__name:"index",props:{modelValue:{type:String},type:{type:String,default:"text"},width:{type:[Number,String],default:"300px"},placeholder:String,disabled:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},size:{type:String,default:"default"},limit:{type:Number,default:200},maxlength:{type:Number,default:20},showLimit:{type:Boolean,default:!1},teleported:{type:Boolean,default:!0}},emits:["confirm","update:modelValue"],setup(e,{emit:V}){const _=e,d=V,o=c(!1),r=c(!1),a=c(),k=()=>{m(),d("confirm",a.value),d("update:modelValue",a.value)},B=()=>{_.disabled||(o.value=!0,a.value="")},m=()=>{o.value=!1};return N(()=>a.value,i=>{d("update:modelValue",i)},{immediate:!0}),T(document.documentElement,"click",()=>{r.value||m()}),(i,l)=>{const S=s("el-option"),C=s("el-select"),$=s("el-input"),x=s("el-button"),L=s("el-popover");return u(),b("div",{onMouseenter:l[4]||(l[4]=t=>r.value=!0),onMouseleave:l[5]||(l[5]=t=>r.value=!1)},[v(L,{placement:"top",visible:y(o),"onUpdate:visible":l[3]||(l[3]=t=>h(o)?o.value=t:null),width:e.width,trigger:"contextmenu",class:"popover-input",teleported:e.teleported,persistent:!1,"popper-class":"!p-0"},{reference:p(()=>[n("div",{class:"inline",onClick:g(B,["stop"])},[U(i.$slots,"default")])]),default:p(()=>[n("div",{class:"flex p-3",onClick:l[2]||(l[2]=g(()=>{},["stop"]))},[n("div",q,[e.type=="select"?(u(),f(C,{key:0,class:"flex-1",size:e.size,modelValue:y(a),"onUpdate:modelValue":l[0]||(l[0]=t=>h(a)?a.value=t:null),teleported:e.teleported},{default:p(()=>[(u(!0),b(j,null,E(e.options,t=>(u(),f(S,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["size","modelValue","teleported"])):(u(),f($,{key:1,modelValue:y(a),"onUpdate:modelValue":l[1]||(l[1]=t=>h(a)?a.value=t:null),modelModifiers:{trim:!0},maxlength:e.maxlength,"show-word-limit":e.showLimit,type:e.type,size:e.size,clearable:"",placeholder:e.placeholder},null,8,["modelValue","maxlength","show-word-limit","type","size","placeholder"]))]),n("div",A,[v(x,{link:"",onClick:m},{default:p(()=>[w(z(i.$t("common.cancelButtonText")),1)]),_:1}),v(x,{type:"primary",size:e.size,onClick:k},{default:p(()=>[w(z(i.$t("common.confirmButtonText")),1)]),_:1},8,["size"])])])]),_:3},8,["visible","width","teleported"])],32)}}});export{D as default};
