import{d as S,V as Z,u as x,b as M,_ as F,__tla as G}from"./index.0f5ebb0a.js";import{b as J}from"./table.a96d0687.js";import{l as K,r as c,aq as Q,h as U,aa as y,m as o,q as W,L as r,E as l,u as e,D as n,H as i,t as u,I as f,av as N,at as X,au as Y}from"./vue.4dfaac09.js";let q,a1=Promise.all([(()=>{try{return G}catch{}})()]).then(async()=>{let w,C,E,D,H;w=m=>(X("data-v-3974ba16"),m=m(),Y(),m),C={class:"layout-padding"},E=w(()=>u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"})],-1)),D=w(()=>u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})],-1)),H={style:{"text-align":"center"}},q=F(K({__name:"index",setup(m){const{t:A}=S(),L=N(()=>M(()=>import("./generator.52d9a7b3.js").then(async a=>(await a.__tla,a)),["assets/generator.52d9a7b3.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/table.a96d0687.js","assets/group.28f0bda4.js","assets/template.7498b27b.js","assets/index.97aa2129.js","assets/loading.50b2b84c.js","assets/loading.70fbfd85.css","assets/generator.5fe22b99.css"])),z=N(()=>M(()=>import("./edit.b7108ff3.js").then(async a=>(await a.__tla,a)),["assets/edit.b7108ff3.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/table.a96d0687.js","assets/fieldtype.651e3d76.js","assets/sortable.esm.71d81605.js","assets/edit.c2252db8.css"])),O=N(()=>M(()=>import("./preview.b0e0ac59.js").then(async a=>(await a.__tla,a)),["assets/preview.b0e0ac59.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/table.a96d0687.js","assets/commonFunction.5a255729.js","assets/preview.6e15d7d8.css"])),I=c(),R=c(),T=Q(),s=c(0),v=c(),d=c(),k=c(),_=c(),g=c(),p=async a=>{try{if(a===0)await _.value.submitHandle();else if(a===1){const t=await R.value.submitHandle();v.value=t.id,g.value=t.generatorType}if(s.value===a)return;s.value=a}catch(t){console.error(t)}},P=async()=>{await _.value.submitHandle(),I.value.openDialog(v.value)},B=async()=>{await _.value.submitHandle(),g.value==="0"&&Z(`/gen/generator/download?tableIds=${[v.value].join(",")}`,{},`${d.value}.zip`).catch(a=>{x().error(a)}),g.value==="1"&&J([v.value].join(",")).then(()=>{x().success(A("common.optSuccessText"))}).catch(({msg:a})=>{x().error(a)})};return U(()=>{d.value=T.query.tableName,k.value=T.query.dsName}),(a,t)=>{const V=y("el-step"),$=y("el-steps"),j=y("el-card"),h=y("el-button");return o(),W("div",C,[r(j,{class:"layout-padding-auto",shadow:"hover"},{default:l(()=>[r($,{active:e(s),"finish-status":"success",simple:""},{default:l(()=>[r(V,{title:"\u57FA\u7840\u4FE1\u606F",onClick:t[0]||(t[0]=b=>p(0))},{icon:l(()=>[E]),_:1}),r(V,{title:"\u6570\u636E\u4FEE\u6539",onClick:t[1]||(t[1]=b=>p(1))},{icon:l(()=>[D]),_:1})]),_:1},8,["active"])]),_:1}),r(j,{class:"layout-padding-auto mt5",shadow:"hover"},{default:l(()=>[e(s)===0?(o(),n(e(L),{key:0,ref_key:"generatorRef",ref:R,tableName:e(d),dsName:e(k)},null,8,["tableName","dsName"])):i("",!0),e(s)===1?(o(),n(e(z),{key:1,ref_key:"editTableRef",ref:_,tableName:e(d),dsName:e(k)},null,8,["tableName","dsName"])):i("",!0),u("div",H,[e(s)===0?(o(),n(h,{key:0,style:{"margin-top":"12px"},onClick:t[2]||(t[2]=b=>p(1))},{default:l(()=>[f("\u4E0B\u4E00\u6B65")]),_:1})):i("",!0),e(s)===1?(o(),n(h,{key:1,style:{"margin-top":"12px"},onClick:t[3]||(t[3]=b=>p(0))},{default:l(()=>[f("\u4E0A\u4E00\u6B65")]),_:1})):i("",!0),e(s)===1?(o(),n(h,{key:2,style:{"margin-top":"12px"},onClick:P},{default:l(()=>[f("\u4FDD\u5B58\u5E76\u9884\u89C8")]),_:1})):i("",!0),e(s)===1?(o(),n(h,{key:3,style:{"margin-top":"12px"},onClick:B},{default:l(()=>[f("\u4FDD\u5B58\u5E76\u751F\u6210")]),_:1})):i("",!0)])]),_:1}),r(e(O),{ref_key:"previewDialogRef",ref:I},null,512)])}}}),[["__scopeId","data-v-3974ba16"]])});export{a1 as __tla,q as default};
