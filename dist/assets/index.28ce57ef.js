import{u as y}from"./flow.3bb50ae4.js";import{a as g}from"./vue.4dfaac09.js";function f(){}let T=y();const S=g(()=>T.step2),U=g(()=>{var e={};for(var t of S.value)e[t.field]=t;return e.root={name:"\u53D1\u8D77\u4EBA",type:"SelectUser"},e});f.prototype={timer:"",debounce(e,t=500){var n=this;return function(i){let s=this,l=i;clearTimeout(n.timer),n.timer=setTimeout(function(){e.call(s,l)},t)}},setCookie(e){for(var t=0,n=e.length;t<n;t++)for(var i in e[t])document.cookie=i+"="+encodeURIComponent(e[t][i])+"; path=/"},getCookie(e){for(var t=document.cookie.split("; "),n=0,i=t.length;n<i;n++){var s=t[n].split("=");if(e==s[0])return decodeURIComponent(s[1])}},clearCookie(e){var t=new Date;t.setTime(-1e3);for(var n=0,i=e.length;n<i;n++)document.cookie=e[n]+"=''; path=/; expires="+t.toGMTString()},arrToStr(e){if(e)return e.map(t=>t.name).toString()},toChecked(e,t,n="id"){this.toggleClass(e,t,n)?this.removeEle(e,t,n):e.push(t)},checkApproval(e){var t;if(e.assignedType==1){if(e.nodeUserList.length==0)return!1}else if(e.assignedType==3){if(e.nodeUserList.length==0)return!1}else if(e.assignedType==8&&e.formUserId.length==0)return!1;return((t=e.nobody)==null?void 0:t.handler)!=="TO_USER"||e.nobody.assignedUser.length!==0},setApproverStr:e=>e.assignedType==1||e.assignedType==3?e.nodeUserList.length>=1?e.nodeUserList.map(t=>t.name).join(","):"":e.assignedType==2?e.deptLeaderLevel==1?"\u76F4\u63A5\u90E8\u95E8\u4E3B\u7BA1":"\u7B2C"+e.deptLeaderLevel+"\u7EA7\u90E8\u95E8\u4E3B\u7BA1":e.assignedType==4?"\u53D1\u8D77\u4EBA\u81EA\u9009":e.assignedType==5?"\u53D1\u8D77\u4EBA\u81EA\u5DF1":e.assignedType==7?"\u5230\u7B2C"+e.deptLeaderLevel+"\u7EA7\u90E8\u95E8\u4E3B\u7BA1\u7EC8\u6B62":e.assignedType==8&&e.formUserId.length>0?"\u8868\u5355\uFF1A"+e.formUserName:"",dealStr(e,t){let n=[],i=e.split(",");for(var s in t)i.map(l=>{l==s&&n.push(t[s].value)});return n.join("\u6216")},conditionStr(e,t){var{conditionList:n,groupMode:i}=e.conditionNodes[t];if(n.length==0)return t==e.conditionNodes.length-1?"\u5176\u4ED6\u6761\u4EF6\u8FDB\u5165\u6B64\u6D41\u7A0B":"\u8BF7\u8BBE\u7F6E\u6761\u4EF6";var s=[];for(var l of n){let v=l.mode;var o=[];for(var m of l.conditionList){const{key:u,expression:a,value:d}=m;if(!u)continue;let h=U.value[u];var p=h.title||h.name,r=d;h.type==="SelectUser"||h.type==="SelectDept"||h.type==="OrgSelector"?r=d.map(c=>c.name).join(","):h.type==="SingleSelect"?r=d.map(c=>c.value).join(","):r||(r="?"),a==="=="?o.push(p+" \u7B49\u4E8E "+r):a==="in"?o.push(p+" \u5C5E\u4E8E "+r):a==="notin"?o.push(p+" \u4E0D\u5C5E\u4E8E "+r):a==="!="?o.push(p+" \u4E0D\u7B49\u4E8E "+r):a===">"?o.push(p+" \u5927\u4E8E "+r):a===">="?o.push(p+" \u5927\u4E8E\u7B49\u4E8E "+r):a==="<"?o.push(p+" \u5C0F\u4E8E "+r):a==="<="?o.push(p+" \u5C0F\u4E8E\u7B49\u4E8E "+r):a==="contain"?o.push(p+" \u5305\u542B "+r):a==="notcontain"&&o.push(p+" \u4E0D\u5305\u542B "+r)}if(v){let u=o.join(" \u4E14 ");o.length>0&&s.push("("+u+")")}else{let u=o.join(" \u6216 ");o.length>0&&s.push("("+u+")")}}return s.length>0?s.join(i?" \u4E14 ":" \u6216 "):t==e.conditionNodes.length-1?"\u9ED8\u8BA4\u6761\u4EF6":"\u8BF7\u8BBE\u7F6E\u6761\u4EF6"},copyerStr(e){var t;if(((t=e.nodeUserList)==null?void 0:t.length)!=0)return this.arrToStr(e.nodeUserList)}};const L=new f;export{L as $};
