import{Z as g,o as l}from"./index.0f5ebb0a.js";import{h as u}from"./vue.4dfaac09.js";function m(p){const e=((a,s)=>{for(const t in a)Object.getOwnPropertyDescriptor(s,t)||(s[t]=a[t]);return s})({dataListLoading:!1,createdIsNeed:!0,isPage:!0,queryForm:{},dataList:[],pagination:{current:1,size:10,total:0,pageSizes:[1,10,20,50,100,200],layout:"total, sizes, prev, pager, next, jumper"},dataListSelections:[],loading:!1,selectObjs:[],descs:[],ascs:[],props:{item:"records",totalCount:"total"}},p),i=async()=>{var a,s,t,r;if(e.pageList)try{e.loading=!0;const n=await e.pageList({...e.queryForm,current:(a=e.pagination)==null?void 0:a.current,size:(s=e.pagination)==null?void 0:s.size,descs:(t=e.descs)==null?void 0:t.join(","),ascs:(r=e.ascs)==null?void 0:r.join(",")});e.dataList=e.isPage?n.data[e.props.item]:n.data,e.pagination.total=e.isPage?n.data[e.props.totalCount]:0}catch(n){g.error(n.msg||n.data.msg)}finally{e.loading=!1}};return u(()=>{e.createdIsNeed&&i()}),{tableStyle:{cellStyle:{textAlign:"center"},headerCellStyle:{textAlign:"center",background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"}},getDataList:a=>{a!==!1&&(e.pagination.current=1),i()},sizeChangeHandle:a=>{e.pagination.size=a,i()},currentChangeHandle:a=>{e.pagination.current=a,i()},sortChangeHandle:a=>{var t,r,n,o,c,d;const s=l.toUnderline(a.prop);a.order==="descending"?((t=e.descs)==null||t.push(s),e.ascs.includes(s)&&((r=e.ascs)==null||r.splice(e.ascs.indexOf(s),1))):a.order==="ascending"?((n=e.ascs)==null||n.push(s),e.descs.includes(s)&&((o=e.descs)==null||o.splice(e.descs.indexOf(s),1))):(e.ascs.includes(s)&&((c=e.ascs)==null||c.splice(e.ascs.indexOf(s),1)),e.descs.includes(s)&&((d=e.descs)==null||d.splice(e.descs.indexOf(s),1))),i()},downBlobFile:(a,s,t)=>l.downBlobFile(a,s,t)}}export{m as u};
