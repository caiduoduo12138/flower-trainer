import{l as I,ap as C,aq as z,as as q,R,a as j,h as D,az as H,aa as c,m as r,q as l,L as b,u as d,E as p,ae as J,K,$ as P,D as h,H as v,J as y,P as T,I as A}from"./vue.4dfaac09.js";import{j as G,w as M,o as O,z as w,_ as Q}from"./index.0f5ebb0a.js";const U={key:0,class:"layout-navbars-breadcrumb"},W={key:0,class:"layout-navbars-breadcrumb-span"},X={key:1},Y={key:2},Z=["onClick"],aa=I({name:"layoutBreadcrumb"}),ea=Q(I({...aa,setup(ta){const x=G(),F=M(),{themeConfig:u}=C(F),{routesList:f}=C(x),i=z(),g=q(),a=R({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),N=j(()=>{m(i);const{layout:e,isBreadcrumb:s}=u.value;return e!=="classic"&&e!=="transverse"&&!!s}),V=()=>{u.value.isCollapse=!u.value.isCollapse,_()},_=()=>{w.remove("themeConfig"),w.set("themeConfig",u.value)},L=e=>{e.forEach(s=>{a.routeSplit.forEach((n,S,o)=>{a.routeSplitFirst===s.path&&(a.routeSplitFirst+=`/${o[a.routeSplitIndex]}`,a.breadcrumbList.push(s),a.routeSplitIndex++,s.children&&L(s.children))})})},m=e=>{let s=e.path;if(!u.value.isBreadcrumb)return!1;a.breadcrumbList=[f.value[0]],a.routeSplit=s.split("/"),a.routeSplit.shift(),a.routeSplitFirst=`/${a.routeSplit[0]}`,a.routeSplitIndex=1,L(f.value),a.breadcrumbList.push(i),e.name==="router.home"||e.name==="staticRoutes.notFound"&&a.breadcrumbList.length>1?a.breadcrumbList.splice(0,a.breadcrumbList.length-1):a.breadcrumbList.length>0&&(a.breadcrumbList[a.breadcrumbList.length-1].meta.tagsViewName=O.setTagsViewNameI18n(i))};return D(()=>{m(i)}),H(e=>{m(e)}),(e,s)=>{const n=c("SvgIcon"),S=c("el-breadcrumb-item"),o=c("el-breadcrumb");return N.value?(r(),l("div",U,[b(n,{class:"layout-navbars-breadcrumb-icon",name:d(u).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:V},null,8,["name"]),b(o,{class:"layout-navbars-breadcrumb-hide"},{default:p(()=>[b(J,{name:"breadcrumb"},{default:p(()=>[(r(!0),l(K,null,P(a.breadcrumbList,(t,$)=>(r(),h(S,{key:t.meta.tagsViewName?t.meta.tagsViewName:t.name},{default:p(()=>[$===a.breadcrumbList.length-1?(r(),l("span",W,[d(u).isBreadcrumbIcon?(r(),h(n,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):v("",!0),t.meta.tagsViewName?(r(),l("div",Y,y(t.meta.tagsViewName),1)):(r(),l("div",X,y(e.$t(t.name)),1))])):(r(),l("a",{key:1,onClick:T(sa=>(B=>{const{redirect:k,path:E}=B;k?g.push(k):g.push(E)})(t),["prevent"])},[d(u).isBreadcrumbIcon?(r(),h(n,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):v("",!0),A(y(e.$t(t.name)),1)],8,Z))]),_:2},1024))),128))]),_:1})]),_:1})])):v("",!0)}}}),[["__scopeId","data-v-9d3bde16"]]);export{ea as default};
