import{aw as U}from"./index.0f5ebb0a.js";import{$ as D}from"./index.28ce57ef.js";import{u as P}from"./index.26cedbc4.js";import{u as V}from"./flow.3bb50ae4.js";import h from"./formPerm.46023bcb.js";import{r as j,a as m,e as x,aa as i,m as E,D as k,E as p,L as l,u as f,j as z}from"./vue.4dfaac09.js";const O={__name:"copyerDrawer",setup(R){let e=j({}),v=V();const y=m(()=>v.step2);let d=P(),{setCopyerConfig:b,setCopyer:g}=d,_=m(()=>d.copyerDrawer),n=m(()=>d.copyerConfig1),t=m({get:()=>_.value,set(){c()}});x(n,s=>{e.value=s.value});const L=()=>{let s=y.value;var r={};let o=e.value.formPerms;for(var a of s)r[a.field]="R",o[a.field]&&(r[a.field]=o[a.field]);e.value.formPerms=r},w=()=>{e.value.error=!D.copyerStr(e.value),b({value:e.value,flag:!0,id:n.value.id}),c()},c=()=>{g(!1)};return(s,r)=>{const o=i("el-tab-pane"),a=i("el-tabs"),C=i("el-drawer");return E(),k(C,{"append-to-body":!0,title:"\u6284\u9001\u4EBA\u8BBE\u7F6E",modelValue:f(t),"onUpdate:modelValue":r[1]||(r[1]=u=>z(t)?t.value=u:t=u),onOpen:L,class:"set_copyer","show-close":!1,size:550,"before-close":w},{default:p(()=>[l(a,{type:"border-card"},{default:p(()=>[l(o,{label:"\u8BBE\u7F6E\u6284\u9001\u4EBA"},{default:p(()=>[l(U,{orgList:f(e).nodeUserList,"onUpdate:orgList":r[0]||(r[0]=u=>f(e).nodeUserList=u),type:"user",multiple:!0},null,8,["orgList"])]),_:1}),l(o,{label:"\u8868\u5355\u6743\u9650"},{default:p(()=>[l(h,{"hide-key":["E"],"form-perm":f(e).formPerms},null,8,["form-perm"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{O as default};
