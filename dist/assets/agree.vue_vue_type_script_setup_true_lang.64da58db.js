import{d as _}from"./index.72be8179.js";import{l as b,r,aa as d,m as w,q as x,L as u,E as i,t as m,I as v}from"./vue.4dfaac09.js";const V={class:"p-4 space-y-4"},I={class:"flex justify-end pt-4 space-x-3"},E=b({__name:"agree",emits:["taskSubmitEvent"],setup(C,{expose:f,emit:g}){const e=r(!1),t=r(""),s=r(),c=r();f({handle:(l,a)=>{t.value="",s.value=l,c.value=a,e.value=!0}});const y=g,h=async()=>{if(!s.value||!c.value)return;const l={};l[`${s.value.nodeId}_approve_condition`]=!0;const a={paramMap:l,taskId:s.value.taskId,taskLocalParamMap:{approveDesc:t.value}};try{await _(a),e.value=!1,y("taskSubmitEvent")}catch(n){console.error("Failed to complete task:",n)}};return(l,a)=>{const n=d("el-input"),p=d("el-button"),k=d("el-dialog");return w(),x("div",null,[u(k,{modelValue:e.value,"onUpdate:modelValue":a[2]||(a[2]=o=>e.value=o),title:"\u63D0\u4EA4\u5BA1\u6838",width:400,class:"rounded-lg shadow-xl"},{default:i(()=>[m("div",V,[u(n,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value=o),type:"textarea",maxlength:"100",rows:5,placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6838\u610F\u89C1...","show-word-limit":"",class:"w-full transition-all duration-300 focus:ring-2 focus:ring-primary"},null,8,["modelValue"]),m("div",I,[u(p,{onClick:a[1]||(a[1]=o=>e.value=!1),class:"hover:bg-gray-100 dark:hover:bg-gray-700"},{default:i(()=>[v(" \u53D6\u6D88 ")]),_:1}),u(p,{type:"primary",onClick:h,class:"bg-primary hover:bg-primary-focus"},{default:i(()=>[v(" \u786E\u5B9A ")]),_:1})])])]),_:1},8,["modelValue"])])}}});export{E as _};
