import{d as Z,y as ee,u as w,b as ae,__tla as le}from"./index.0f5ebb0a.js";import{l as E,r as h,R as te,aa as r,ah as L,m as p,q as oe,t as P,F as u,M as ne,u as e,L as l,E as o,a0 as re,I as y,J as f,D as _,j as ie,A as se,av as me}from"./vue.4dfaac09.js";import{u as de}from"./table.6d12d51c.js";import{f as ce,d as pe,o as ue}from"./template.7498b27b.js";let V,ye=Promise.all([(()=>{try{return le}catch{}})()]).then(async()=>{let k,D,S,T;k={class:"layout-padding"},D={class:"layout-padding-auto layout-padding-view"},S={class:"mb8",style:{width:"100%"}},T=E({name:"systemGenTemplate"}),V=E({...T,setup(he){const z=me(()=>ae(()=>import("./form.b82f3844.js").then(async a=>(await a.__tla,a)),["assets/form.b82f3844.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/template.7498b27b.js","assets/form.43166bd5.css"])),{t:i}=Z(),C=h(),v=h(!1),$=h(),b=h(!0),x=h([]),q=h(!0),s=te({queryForm:{},pageList:ce,descs:["create_time"]}),{getDataList:m,currentChangeHandle:K,sizeChangeHandle:A,downBlobFile:H,tableStyle:B}=de(s),I=()=>{$.value.resetFields(),x.value=[],m()},Q=()=>{H("/gen/template/export",s.queryForm,"template.xlsx")},U=a=>{x.value=a.map(({id:t})=>t),q.value=!a.length},F=async a=>{try{await ee().confirm(i("common.delConfirmText"))}catch{return}try{await pe(a),m(),w().success(i("common.delSuccessText"))}catch(t){w().error(t.msg)}},j=async()=>{try{v.value=!0;const{data:a}=await ue();m(),w().success(a)}catch(a){w().error(a.msg)}finally{v.value=!1}};return(a,t)=>{const G=r("el-input"),R=r("el-form-item"),d=r("el-button"),J=r("el-form"),N=r("el-row"),M=r("right-toolbar"),c=r("el-table-column"),O=r("el-table"),W=r("pagination"),g=L("auth"),X=L("loading");return p(),oe("div",k,[P("div",D,[u(l(N,{class:"ml10"},{default:o(()=>[l(J,{inline:!0,model:e(s).queryForm,onKeyup:re(e(m),["enter"]),ref_key:"queryRef",ref:$},{default:o(()=>[l(R,{label:a.$t("template.templateName"),prop:"templateName"},{default:o(()=>[l(G,{placeholder:e(i)("template.inputTemplateNameTip"),style:{"max-width":"180px"},modelValue:e(s).queryForm.templateName,"onUpdate:modelValue":t[0]||(t[0]=n=>e(s).queryForm.templateName=n)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),l(R,null,{default:o(()=>[l(d,{onClick:e(m),formDialogRef:"",icon:"search",type:"primary"},{default:o(()=>[y(f(a.$t("common.queryBtn")),1)]),_:1},8,["onClick"]),l(d,{onClick:I,formDialogRef:"",icon:"Refresh"},{default:o(()=>[y(f(a.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[ne,e(b)]]),l(N,null,{default:o(()=>[P("div",S,[u((p(),_(d,{onClick:t[1]||(t[1]=n=>e(C).openDialog()),class:"ml10",icon:"folder-add",type:"primary"},{default:o(()=>[y(f(a.$t("common.addBtn")),1)]),_:1})),[[g,"codegen_template_add"]]),u((p(),_(d,{plain:"",disabled:e(q),onClick:t[2]||(t[2]=n=>F(e(x))),class:"ml10",icon:"Delete",type:"primary"},{default:o(()=>[y(f(a.$t("common.delBtn")),1)]),_:1},8,["disabled"])),[[g,"codegen_template_del"]]),u((p(),_(d,{onClick:j,class:"ml10",icon:"download",plain:"",disabled:e(v)},{default:o(()=>[y(" \u66F4\u65B0 ")]),_:1},8,["disabled"])),[[g,"codegen_template_add"]]),l(M,{export:"codegen_template_export",onExportExcel:Q,onQueryTable:e(m),class:"ml10",style:{float:"right","margin-right":"20px"},showSearch:e(b),"onUpdate:showSearch":t[3]||(t[3]=n=>ie(b)?b.value=n:null)},null,8,["onQueryTable","showSearch"])])]),_:1}),u((p(),_(O,{data:e(s).dataList,onSelectionChange:U,style:{width:"100%"},border:"","cell-style":e(B).cellStyle,"header-cell-style":e(B).headerCellStyle},{default:o(()=>[l(c,{align:"center",type:"selection",width:"40"}),l(c,{label:e(i)("template.index"),type:"index",width:"60"},null,8,["label"]),l(c,{label:e(i)("template.templateName"),prop:"templateName","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.generatorPath"),prop:"generatorPath","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.desc"),prop:"templateDesc","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:e(i)("template.createTime"),prop:"createTime","show-overflow-tooltip":""},null,8,["label"]),l(c,{label:a.$t("common.action"),width:"150"},{default:o(n=>[u((p(),_(d,{icon:"edit-pen",onClick:Y=>e(C).openDialog(n.row.id),text:"",type:"primary"},{default:o(()=>[y(f(a.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_edit"]]),u((p(),_(d,{icon:"delete",onClick:Y=>F([n.row.id]),text:"",type:"primary"},{default:o(()=>[y(f(a.$t("common.delBtn")),1)]),_:2},1032,["onClick"])),[[g,"codegen_template_del"]])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[X,e(s).loading]]),l(W,se({onCurrentChange:e(K),onSizeChange:e(A)},e(s).pagination),null,16,["onCurrentChange","onSizeChange"])]),l(e(z),{onRefresh:t[4]||(t[4]=n=>e(m)()),ref_key:"formDialogRef",ref:C},null,512)])}}})});export{ye as __tla,V as default};
