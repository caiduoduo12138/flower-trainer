import{d as D,u as V}from"./index.0f5ebb0a.js";import{p as F,a as P,g as R}from"./trade.7da9dd76.js";import{l as _,r as h,R as q,aa as s,ah as A,m as b,D as y,E as o,t as E,L as a,I as T,J as v,u as e,F as J,q as K,K as L,$ as z,j as G,n as H}from"./vue.4dfaac09.js";const Q={class:"dialog-footer"},W=_({name:"PayTradeOrderDialog"}),X=_({...W,emits:["refresh"],setup(Y,{expose:g,emit:U}){const x=U,{t:r}=D(),f=h(),m=h(!1),i=h(!1),d=q({orderId:"",channelId:"",amount:"",currency:"",status:"",clientIp:"",device:"",subject:"",body:"",extra:"",channelMchId:"",channelOrderNo:"",errCode:"",errMsg:"",param1:"",param2:"",notifyUrl:"",notifyCount:"",lastNotifyTime:"",expireTime:"",paySuccTime:""}),C=h({}),O=h([{label:"\u8BA2\u5355\u751F\u6210",value:"0"},{label:"\u652F\u4ED8\u4E2D\uFF08\u672A\u4F7F\u7528\uFF09",value:"1"},{label:"\u652F\u4ED8\u6210\u529F",value:"2"},{label:"\u4E1A\u52A1\u5904\u7406\u5B8C\u6210",value:"3"}]),S=async()=>{if(!await f.value.validate().catch(()=>{}))return!1;try{i.value=!0,d.orderId?await F(d):await P(d),V().success(r(d.orderId?"common.editSuccessText":"common.addSuccessText")),m.value=!1,x("refresh")}catch(u){V().error(u.msg)}finally{i.value=!1}},M=async u=>{i.value=!0;try{const l=await R(u);Object.assign(d,l.data)}catch{V().error("\u64CD\u4F5C\u5931\u8D25")}finally{i.value=!1}};return g({openDialog:u=>{m.value=!0,d.orderId="",H(()=>{var l;(l=f.value)==null||l.resetFields()}),u&&(d.orderId=u,M(u))}}),(u,l)=>{const p=s("el-input"),n=s("el-form-item"),c=s("el-col"),N=s("el-option"),w=s("el-select"),k=s("el-row"),B=s("el-form"),I=s("el-button"),$=s("el-dialog"),j=A("loading");return b(),y($,{"close-on-click-modal":!1,title:e(d).orderId?u.$t("common.editBtn"):u.$t("common.addBtn"),draggable:"",modelValue:e(m),"onUpdate:modelValue":l[11]||(l[11]=t=>G(m)?m.value=t:null)},{footer:o(()=>[E("span",Q,[a(I,{onClick:l[10]||(l[10]=t=>m.value=!1)},{default:o(()=>[T(v(u.$t("common.cancelButtonText")),1)]),_:1}),a(I,{onClick:S,type:"primary",disabled:e(i)},{default:o(()=>[T(v(u.$t("common.confirmButtonText")),1)]),_:1},8,["disabled"])])]),default:o(()=>[J((b(),y(B,{model:e(d),rules:e(C),"label-width":"90px",ref_key:"dataFormRef",ref:f},{default:o(()=>[a(k,{gutter:24},{default:o(()=>[a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.orderId"),prop:"orderId"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputOrderIdTip"),modelValue:e(d).orderId,"onUpdate:modelValue":l[0]||(l[0]=t=>e(d).orderId=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.channelId"),prop:"channelId"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputChannelIdTip"),modelValue:e(d).channelId,"onUpdate:modelValue":l[1]||(l[1]=t=>e(d).channelId=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.channelMchId"),prop:"channelMchId"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputChannelMchIdTip"),modelValue:e(d).channelMchId,"onUpdate:modelValue":l[2]||(l[2]=t=>e(d).channelMchId=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.channelOrderNo"),prop:"channelOrderNo"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputChannelOrderNoTip"),modelValue:e(d).channelOrderNo,"onUpdate:modelValue":l[3]||(l[3]=t=>e(d).channelOrderNo=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.body"),prop:"body"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputBodyTip"),modelValue:e(d).body,"onUpdate:modelValue":l[4]||(l[4]=t=>e(d).body=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.amount"),prop:"amount"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputAmountTip"),modelValue:e(d).amount,"onUpdate:modelValue":l[5]||(l[5]=t=>e(d).amount=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.currency"),prop:"currency"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputCurrencyTip"),modelValue:e(d).currency,"onUpdate:modelValue":l[6]||(l[6]=t=>e(d).currency=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.status"),prop:"status"},{default:o(()=>[a(w,{modelValue:e(d).status,"onUpdate:modelValue":l[7]||(l[7]=t=>e(d).status=t),placeholder:e(r)("trade.inputStatusTip")},{default:o(()=>[(b(!0),K(L,null,z(e(O),t=>(b(),y(N,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.clientIp"),prop:"clientIp"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputClientIpTip"),modelValue:e(d).clientIp,"onUpdate:modelValue":l[8]||(l[8]=t=>e(d).clientIp=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1}),a(c,{span:12,class:"mb20"},{default:o(()=>[a(n,{label:e(r)("trade.paySuccTime"),prop:"paySuccTime"},{default:o(()=>[a(p,{placeholder:e(r)("trade.inputPaySuccTimeTip"),modelValue:e(d).paySuccTime,"onUpdate:modelValue":l[9]||(l[9]=t=>e(d).paySuccTime=t)},null,8,["placeholder","modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[j,e(i)]])]),_:1},8,["title","modelValue"])}}});export{X as default};
