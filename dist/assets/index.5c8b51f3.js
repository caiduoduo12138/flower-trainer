import{s as N,y as Re,u as U,b as L,_ as cl,__tla as ol}from"./index.0f5ebb0a.js";import{f as dl}from"./wx-account.c6394b81.js";import{l as ze,R as J,r as p,h as rl,aa as d,ah as pl,m as i,q as c,L as a,E as o,t as s,u as e,F as ml,J as K,K as O,$ as S,y as Te,H as m,I as q,D as Ne,av as R,n as Je,at as _l,au as vl}from"./vue.4dfaac09.js";let Ke,bl=Promise.all([(()=>{try{return ol}catch{}})()]).then(async()=>{let _,F,H,M,Y,$,B,G,Q,W,X,Z,ee,le,ae,te,ne,se,ue,ie,ce,oe,de,re,pe,me,_e,ve,be,ye,ge,he,fe,ke,we,xe,Ve,Ie,Ae,Ce;_=I=>(_l("data-v-402f44ee"),I=I(),vl(),I),F={class:"layout-padding"},H={class:"layout-padding-auto layout-padding-view"},M={class:"layout-padding-auto layout-padding-view"},Y={class:"clearfix public-account-management"},$={class:"left"},B={class:"weixin-hd"},G={class:"weixin-title"},Q={class:"clearfix weixin-menu menu_main"},W=["onClick"],X={key:0,class:"submenu"},Z=["onClick"],ee=["onClick"],le={class:"flex items-center justify-center gap-4 mt-4 mb-6 save_div"},ae={key:0,class:"right"},te={class:"configure_page"},ne={class:"delete_btn"},se=_(()=>s("span",null,"\u83DC\u5355\u540D\u79F0\uFF1A",-1)),ue={key:0},ie={class:"menu_content"},ce=_(()=>s("span",null,"\u83DC\u5355\u6807\u8BC6\uFF1A",-1)),oe={class:"menu_content"},de=_(()=>s("span",null,"\u83DC\u5355\u5185\u5BB9\uFF1A",-1)),re={key:0,class:"configur_content"},pe=_(()=>s("span",null,"\u8DF3\u8F6C\u94FE\u63A5\uFF1A",-1)),me={key:1,class:"configur_content"},_e={class:"applet"},ve=_(()=>s("span",null,"\u5C0F\u7A0B\u5E8F\u7684 appid \uFF1A",-1)),be={class:"applet"},ye=_(()=>s("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF1A",-1)),ge={class:"applet"},he=_(()=>s("span",null,"\u5C0F\u7A0B\u5E8F\u7684\u5907\u7528\u7F51\u9875\uFF1A",-1)),fe=_(()=>s("p",{class:"blue"},"tips:\u9700\u8981\u548C\u516C\u4F17\u53F7\u8FDB\u884C\u5173\u8054\u624D\u53EF\u4EE5\u628A\u5C0F\u7A0B\u5E8F\u7ED1\u5B9A\u5E26\u5FAE\u4FE1\u83DC\u5355\u4E0A\u54DF\uFF01",-1)),ke={key:2,class:"configur_content"},we={key:0,class:"select-item"},xe={key:1},Ve=_(()=>s("i",{class:"fansel-icon--right"},null,-1)),Ie={key:3,class:"configur_content"},Ae=ze({name:"wx-menu"}),Ce=ze({...Ae,setup(I){const Se=R(()=>L(()=>import("./main.ab931a88.js").then(async t=>(await t.__tla,t)),["assets/main.ab931a88.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/table.6d12d51c.js","assets/wx-material.5229d147.js","assets/main.34e1f366.css"])),Fe=R(()=>L(()=>import("./index.1a289d4a.js").then(async t=>(await t.__tla,t)),["assets/index.1a289d4a.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/wx-material.5229d147.js","assets/index.b7eb89e3.css"])),He=R(()=>L(()=>import("./index.94e05b15.js"),["assets/index.94e05b15.js","assets/index.0f5ebb0a.js","assets/vue.4dfaac09.js","assets/index.3d43c53c.css","assets/index.5ad6d70c.css"])),Me=R(()=>L(()=>import("./index.bebcd50d.js"),["assets/index.bebcd50d.js","assets/vue.4dfaac09.js","assets/index.0f5ebb0a.js","assets/index.3d43c53c.css","assets/index.55ee7932.css"])),Pe=t=>{b.value=t.appid,Ee.value=t.name,Be()},De=J({queryList:t=>dl({name:t})}),Ye=p(!1),Ee=p("\u6D4B\u8BD5\u516C\u4F17\u53F7"),b=p(""),A=p(-1),C=p("-1"),je=p(-1),y=J([{name:"\u83DC\u5355\u540D\u79F0",sub_button:[]}]),x=p(!1),$e=p([{value:"view",label:"\u8DF3\u8F6C\u7F51\u9875"},{value:"miniprogram",label:"\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F"},{value:"click",label:"\u70B9\u51FB\u56DE\u590D"},{value:"article_view_limited",label:"\u8DF3\u8F6C\u56FE\u6587\u6D88\u606F"},{value:"scancode_push",label:"\u626B\u7801\u76F4\u63A5\u8FD4\u56DE\u7ED3\u679C"},{value:"scancode_waitmsg",label:"\u626B\u7801\u56DE\u590D"},{value:"pic_sysphoto",label:"\u7CFB\u7EDF\u62CD\u7167\u53D1\u56FE"},{value:"pic_photo_or_album",label:"\u62CD\u7167\u6216\u8005\u76F8\u518C"},{value:"pic_weixin",label:"\u5FAE\u4FE1\u76F8\u518C"},{value:"location_select",label:"\u9009\u62E9\u5730\u7406\u4F4D\u7F6E"}]),P=p(!1);let l=p({replyArticles:[],articleId:"",appId:""});const v=J({grand:"",index:"",secondIndex:""}),Be=()=>{var t;(t=b.value,N({url:"/mp/wx-menu/"+t,method:"get"})).then(u=>{if(u.data){const r=JSON.parse(u.data);r&&r.button&&Object.assign(y,r.button)}else y.length=0,Object.assign(y,{name:"\u83DC\u5355\u540D\u79F0",sub_button:[]})})},D=p(!0),Ge=()=>{const t={name:"\u83DC\u5355\u540D\u79F0",sub_button:[],reply:{type:"text",accountId:b.value}};y.push(t)},Qe=async()=>{try{await Re().confirm("\u786E\u5B9A\u8981\u4FDD\u5B58\u8BE5\u83DC\u5355\u5417?"),await(u=b.value,r={button:y},N({url:"/mp/wx-menu/"+u,method:"post",data:r})),await(t=b.value,N({url:"/mp/wx-menu/"+t,method:"put"})),U().success("\u53D1\u5E03\u6210\u529F")}catch(g){U().error(g.msg)}var t,u,r},We=()=>{l.value.replyArticles=[],l.value.articleId=""},Ue=p(),Xe=()=>{Ue.value.openDialog({type:"news",accountId:b.value})},Ze=t=>{const u=t.articleId,r=t.content.newsItem;r.length,l.value.articleId=u,l.value.replyArticles=[],r.forEach(g=>{l.value.replyArticles.push({title:g.title,description:g.digest,picUrl:g.picUrl,url:g.url})})},el=()=>{};return rl(async()=>{const{data:t}=await De.queryList();(t==null?void 0:t.length)>0&&Pe(t[0])}),(t,u)=>{const r=d("el-scrollbar"),g=d("pane"),Le=d("el-icon-plus"),E=d("el-icon"),ll=d("Check"),V=d("el-button"),al=d("Delete"),w=d("el-input"),tl=d("el-option"),nl=d("el-select"),z=d("el-row"),sl=d("el-col"),ul=d("splitpanes"),il=pl("loading");return i(),c("div",F,[a(ul,null,{default:o(()=>[a(g,{size:"20"},{default:o(()=>[s("div",H,[a(r,null,{default:o(()=>[a(e(He),{class:"mt10",query:e(De).queryList,onNodeClick:Pe,placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1\u516C\u4F17\u53F7\u540D\u79F0"},null,8,["query"])]),_:1})])]),_:1}),a(g,null,{default:o(()=>[s("div",M,[a(r,null,{default:o(()=>[ml((i(),c("div",Y,[s("div",$,[s("div",B,[s("div",G,K(e(Ee)),1)]),s("div",Q,[(i(!0),c(O,null,S(e(y),(n,f)=>(i(),c("div",{key:f,class:"menu_bottom"},[s("div",{class:Te([{active:e(A)===f},"menu_item el-icon-s-fold"]),onClick:j=>((k,h)=>{x.value=!1,Je(()=>{x.value=!0}),P.value=!0,l.value=h,l.value.appId=b.value,D.value=!(h.sub_button&&h.sub_button.length>0),A.value=k,je.value=k,C.value="-1",v.grand="1",v.index=k})(f,n)},K(n.name),11,W),e(je)===f?(i(),c("div",X,[(i(!0),c(O,null,S(n.sub_button,(j,k)=>(i(),c(O,null,[n.sub_button?(i(),c("div",{key:k,class:"subtitle menu_bottom"},[s("div",{class:Te([{active:e(C)===f+""+k},"menu_subItem"]),onClick:h=>((T,Oe,qe)=>{x.value=!1,Je(()=>{x.value=!0}),P.value=!0,l.value=T,l.value.appId=b.value,D.value=!0,A.value=-1,C.value=Oe+""+qe,v.grand="2",v.index=Oe,v.secondIndex=qe})(j,f,k)},K(j.name),11,Z)])):m("",!0)],64))),256)),!n.sub_button||n.sub_button.length<5?(i(),c("div",{key:0,class:"menu_bottom menu_addicon",onClick:j=>((k,h)=>{(!h.sub_button||h.sub_button.length<=0)&&(h.sub_button=[],D.value=!1);let T={name:"\u5B50\u83DC\u5355\u540D\u79F0",reply:{type:"text",accountId:b.value}};h.sub_button.push(T)})(0,n)},[a(E,null,{default:o(()=>[a(Le)]),_:1})],8,ee)):m("",!0)])):m("",!0)]))),128)),e(y).length<3?(i(),c("div",{key:0,class:"menu_bottom menu_addicon",onClick:Ge},[a(E,null,{default:o(()=>[a(Le)]),_:1})])):m("",!0)]),s("div",le,[a(V,{class:"save_btn !px-6 !h-9 hover:scale-105 transition-transform",type:"primary",size:"small",onClick:Qe},{default:o(()=>[a(E,{class:"mr-1"},{default:o(()=>[a(ll)]),_:1}),q(" \u4FDD\u5B58\u53D1\u5E03 ")]),_:1}),a(V,{class:"save_btn !px-6 !h-9 hover:scale-105 transition-transform",type:"warning",size:"small",onClick:el},{default:o(()=>[a(E,{class:"mr-1"},{default:o(()=>[a(al)]),_:1}),q(" \u6E05\u7A7A\u83DC\u5355 ")]),_:1})])]),e(P)?(i(),c("div",ae,[s("div",te,[s("div",ne,[a(V,{icon:"Delete",size:"mini",type:"danger",onClick:u[0]||(u[0]=n=>(e(l),void Re().confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417?").then(()=>{v.grand==="1"?y.splice(v.index,1):v.grand==="2"&&y[v.index].sub_button.splice(v.secondIndex,1),U().success("\u5220\u9664\u6210\u529F"),Object.assign(l,{}),P.value=!1,A.value=-1,C.value="-1"}).catch(f=>{U().error(f.msg)})))},{default:o(()=>[q("\u5220\u9664\u5F53\u524D\u83DC\u5355 ")]),_:1})]),s("div",null,[se,a(w,{modelValue:e(l).name,"onUpdate:modelValue":u[1]||(u[1]=n=>e(l).name=n),class:"input_width",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0"},null,8,["modelValue"])]),e(D)?(i(),c("div",ue,[s("div",ie,[ce,a(w,{modelValue:e(l).key,"onUpdate:modelValue":u[2]||(u[2]=n=>e(l).key=n),class:"input_width",clearable:"",placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355 KEY"},null,8,["modelValue"])]),s("div",oe,[de,a(nl,{modelValue:e(l).type,"onUpdate:modelValue":u[3]||(u[3]=n=>e(l).type=n),class:"menu_option",clearable:"",placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(i(!0),c(O,null,S(e($e),n=>(i(),Ne(tl,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e(l).type==="view"?(i(),c("div",re,[pe,a(w,{class:"input_width",modelValue:e(l).url,"onUpdate:modelValue":u[4]||(u[4]=n=>e(l).url=n),placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5",clearable:""},null,8,["modelValue"])])):m("",!0),e(l).type==="miniprogram"?(i(),c("div",me,[s("div",_e,[ve,a(w,{class:"input_width",modelValue:e(l).miniProgramAppId,"onUpdate:modelValue":u[5]||(u[5]=n=>e(l).miniProgramAppId=n),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684appid",clearable:""},null,8,["modelValue"])]),s("div",be,[ye,a(w,{class:"input_width",modelValue:e(l).miniProgramPagePath,"onUpdate:modelValue":u[6]||(u[6]=n=>e(l).miniProgramPagePath=n),placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u7684\u9875\u9762\u8DEF\u5F84\uFF0C\u5982\uFF1Apages/index",clearable:""},null,8,["modelValue"])]),s("div",ge,[he,a(w,{class:"input_width",modelValue:e(l).url,"onUpdate:modelValue":u[7]||(u[7]=n=>e(l).url=n),placeholder:"\u4E0D\u652F\u6301\u5C0F\u7A0B\u5E8F\u7684\u8001\u7248\u672C\u5BA2\u6237\u7AEF\u5C06\u6253\u5F00\u672C\u7F51\u9875",clearable:""},null,8,["modelValue"])]),fe])):m("",!0),e(l).type==="article_view_limited"?(i(),c("div",ke,[a(z,null,{default:o(()=>[e(l)&&e(l).replyArticles?(i(),c("div",we,[a(e(Me),{objData:e(l).replyArticles},null,8,["objData"]),a(z,{class:"ope-row"},{default:o(()=>[a(V,{type:"danger",icon:"el-icon-delete",circle:"",onClick:We})]),_:1})])):(i(),c("div",xe,[a(z,null,{default:o(()=>[a(sl,{span:24,style:{"text-align":"center"}},{default:o(()=>[a(V,{type:"success",onClick:Xe},{default:o(()=>[q(" \u7D20\u6750\u5E93\u9009\u62E9"),Ve]),_:1})]),_:1})]),_:1})])),a(e(Se),{ref_key:"dialogNewsRef",ref:Ue,onSelectMaterial:Ze},null,512)]),_:1})])):m("",!0),e(l).type==="click"||e(l).type==="scancode_waitmsg"?(i(),c("div",Ie,[e(x)?(i(),Ne(e(Fe),{key:0,objData:e(l)},null,8,["objData"])):m("",!0)])):m("",!0)])):m("",!0)])])):m("",!0)])),[[il,e(Ye)]])]),_:1})])]),_:1})]),_:1})])}}}),Ke=cl(Ce,[["__scopeId","data-v-402f44ee"]])});export{bl as __tla,Ke as default};
