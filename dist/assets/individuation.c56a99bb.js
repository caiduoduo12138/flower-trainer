import{u as R}from"./dict.10eb31b5.js";import{d as E,w as J,k as L,al as _,am as k,u as x}from"./index.0f5ebb0a.js";import{g as O,p as S}from"./tenant.bfd983bb.js";import{l as y,r as p,ap as q,R as z,aa as d,ah as G,m as V,D as T,E as t,t as H,L as l,I as f,J as b,u as e,F as K,j as M,n as P}from"./vue.4dfaac09.js";const W={class:"dialog-footer"},X=y({name:"systemTenantDialog"}),Y=y({...X,emits:["refresh"],setup(Z,{expose:U,emit:N}){const A=N,{t:u}=E(),g=p(),s=p(!1),r=p(!1);R("status_type");const F=J(L),{themeConfig:v}=q(F),o=z({id:"",websiteName:v.value.globalTitle,background:"",miniQr:"",footer:v.value.footerAuthor}),Q=p({}),B=async i=>{const a=await O(i);Object.assign(o,a.data)},C=async()=>{if(!await g.value.validate().catch(()=>{}))return!1;try{r.value=!0,await S(o),x().success(u("common.editSuccessText")),s.value=!1,A("refresh")}catch(i){x().error(i.msg)}finally{r.value=!1}};return U({openDialog:i=>{s.value=!0,o.id="",P(()=>{var a;(a=g.value)==null||a.resetFields()}),i&&(o.id=i,B(i))}}),(i,a)=>{const h=d("el-input"),m=d("el-form-item"),c=d("el-col"),D=d("el-row"),$=d("el-form"),w=d("el-button"),j=d("el-drawer"),I=G("loading");return V(),T(j,{title:i.$t("tenant.individuationBtn"),modelValue:e(s),"onUpdate:modelValue":a[5]||(a[5]=n=>M(s)?s.value=n:null),"close-on-click-modal":!1},{footer:t(()=>[H("span",W,[l(w,{onClick:a[4]||(a[4]=n=>s.value=!1)},{default:t(()=>[f(b(i.$t("common.cancelButtonText")),1)]),_:1}),l(w,{type:"primary",onClick:C,disabled:e(r)},{default:t(()=>[f(b(i.$t("common.confirmButtonText")),1)]),_:1},8,["disabled"])])]),default:t(()=>[K((V(),T($,{ref_key:"dataFormRef",ref:g,model:e(o),rules:e(Q)},{default:t(()=>[l(D,null,{default:t(()=>[l(c,{span:24,class:"mt-4"},{default:t(()=>[l(m,{label:e(u)("individuation.websiteName"),prop:"websiteName","label-width":"120px",align:"left"},{default:t(()=>[l(h,{modelValue:e(o).websiteName,"onUpdate:modelValue":a[0]||(a[0]=n=>e(o).websiteName=n),placeholder:e(u)("individuation.inputIndividuationNameTip")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),l(c,{span:24,class:"mt-4"},{default:t(()=>[l(m,{prop:"footerAuthor","label-width":"120px",align:"left"},{label:t(()=>[f(b(e(u)("individuation.footerAuthor"))+" ",1),l(_,{content:"\u6D4F\u89C8\u5668\u5E95\u90E8\u7248\u6743\u4FE1\u606F\u3001\u5907\u6848\u4FE1\u606F"})]),default:t(()=>[l(h,{modelValue:e(o).footer,"onUpdate:modelValue":a[1]||(a[1]=n=>e(o).footer=n),placeholder:e(u)("individuation.inputFooterAuthorTip")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),l(c,{span:24,class:"mt-4"},{default:t(()=>[l(m,{prop:"icon","label-width":"120px",align:"left"},{label:t(()=>[f(b(e(u)("individuation.miniQr"))+" ",1),l(_,{content:"\u767B\u5F55\u9875\u53F3\u4E0B\u89D2\u663E\u793A\u7684\u79FB\u52A8\u7AEF\u4E8C\u7EF4\u7801"})]),default:t(()=>[l(k,{"image-url":e(o).miniQr,"onUpdate:imageUrl":a[2]||(a[2]=n=>e(o).miniQr=n)},null,8,["image-url"])]),_:1})]),_:1}),l(c,{span:24,class:"mt-4"},{default:t(()=>[l(m,{label:e(u)("individuation.background"),prop:"background","label-width":"120px",align:"left"},{default:t(()=>[l(k,{"image-url":e(o).background,"onUpdate:imageUrl":a[3]||(a[3]=n=>e(o).background=n)},null,8,["image-url"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model","rules"])),[[I,e(r)]])]),_:1},8,["title","modelValue"])}}});export{Y as default};
